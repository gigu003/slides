{
  "hash": "f619a33aec4e22e5b12e53155edbee76",
  "result": {
    "markdown": "---\ntitle: \"Rè¯­è¨€ä¿ƒè¿›é«˜æ•ˆç‡è‚¿ç˜¤ç™»è®°æŠ¥å‘Š\"\nsubtitle: \"åŸºäºR Markdown / Quartoçš„å¯é‡å¤æ€§æŠ¥å‘Šæ’°å†™\"\nauthor: \"é™ˆç¼\"\ndate: 2023-5-16\ndate-modified: last-modified\ndate-format: \"dddd MMM D, YYYY\"\ninstitute: \"ğŸ¥æ²³å—çœç™Œç—‡ä¸­å¿ƒ\\næ²³å—çœè‚¿ç˜¤åŒ»é™¢\"\naddress: \"éƒ‘å·\"\nformat: \n  revealjs:\n    theme: [custom.scss]\n    #width: 1600\n    #height: 900\n    slide-number: true\n    smaller: true\n    scrollable: true\n    #number-sections: true\n    footer: \"æ²³å—çœäººç¾¤è‚¿ç˜¤ç™»è®°\"\n    subtitle-as-header: true\n    #sc-sb-title: true\nfilters:\n  - reveal-header\nslide-level: 2\ntitle-slide-style: pandoc\ncrossref:\n  fig-title: å›¾     \n  tbl-title: è¡¨     \n  #title-delim: \"\"\n  tbl-prefix: è¡¨\n  fig-prefix: å›¾\ntitle-slide-attributes:\n  data-background-color: \"lightblue\"\n---\n\n\n# è‚¿ç˜¤ç™»è®°å·¥ä½œä»‹ç» {background-color=\"lightblue\"}\n\n\n\n## äººç¾¤è‚¿ç˜¤ç™»è®°çš„ç›®çš„å’Œæ„ä¹‰\n\n<br>\n\n> è‚¿ç˜¤ç™»è®°æ˜¯ç³»ç»Ÿæ€§ã€ç»å¸¸æ€§æœé›†æœ‰å…³è‚¿ç˜¤åŠè‚¿ç˜¤æ‚£è€…ä¿¡æ¯çš„ç»Ÿè®¡åˆ¶åº¦ã€‚\n\n</br>\n\n\n-   äº†è§£ç™Œç—‡å‘ç—…ã€æ­»äº¡ã€ç”Ÿå­˜æƒ…å†µ\n\n-   æŒæ¡ç™Œç—‡ç–¾ç—…è´Ÿæ‹…ä¸å˜åŒ–è¶‹åŠ¿\n\n-   äº†è§£ç™Œç—‡åœ¨ä¸åŒåœ°åŒºå’Œäººç¾¤ä¸­çš„åˆ†å¸ƒç‰¹å¾\n\n\n## äººç¾¤è‚¿ç˜¤ç™»è®°çš„ç›®çš„å’Œæ„ä¹‰\n\n<br>\n\n> è‚¿ç˜¤ç™»è®°æ˜¯ç³»ç»Ÿæ€§ã€ç»å¸¸æ€§æ”¶é›†æœ‰å…³è‚¿ç˜¤åŠè‚¿ç˜¤æ‚£è€…ä¿¡æ¯çš„ç»Ÿè®¡åˆ¶åº¦ã€‚\n\n</br>\n\n-   ä¸ºåˆ¶å®šç™Œç—‡é˜²æ§ç­–ç•¥ä¸æªæ–½ã€è§„åˆ’ä¸è®¡åˆ’æä¾›ç§‘å­¦ä¾æ®\n\n-   ä¸ºç™Œç—‡çš„ä¸´åºŠç ”ç©¶æä¾›ä¿¡æ¯\n\n-   ä¸ºç™Œç—‡é˜²æ§æ•ˆæœè¯„ä»·æä¾›æ•°æ®æ”¯æŒ\n\n\n## æ²³å—çœè‚¿ç˜¤ç™»è®°å·¥ä½œè¿›å±•\n\n\n<br>\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n- è‚¿ç˜¤ç™»è®°å·¥ä½œè¦†ç›–130ä¸ªå¿åŒº\n- è¾¾åˆ°æ•°æ®åˆ©ç”¨æ ‡å‡†çš„ç™»è®°å¤„è¾¾åˆ°42ä¸ªï¼Œè¦†ç›–å…¨çœ32%çš„äººå£\n- è¿ç»­10å¹´å‡ºç‰ˆã€Šæ²³å—çœè‚¿ç˜¤ç™»è®°å¹´æŠ¥ã€‹\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![æ²³å—çœè‚¿ç˜¤ç™»è®°åœ°åŒºè¦†ç›–æƒ…å†µ](../2023-4-20-cancer-registration/images/map.png){fig-align='center' width=302}\n:::\n:::\n\n\n:::\n\n::::\n\n\n\n\n## ç»„ç»‡æ¶æ„\n\n<br>\n\n:::: {.columns}\n\n::: {.column width=\"33%\"}\n#### çœçº§ç™»è®°å¤„\n\n*æ²³å—çœç™Œç—‡ä¸­å¿ƒ*\n\n:::{.callout-note}\n## èŒè´£\n\n- åˆ¶å®šå…¨çœå·¥ä½œè®¡åˆ’ã€å®æ–½æ–¹æ¡ˆ\n- å»ºç«‹å’Œå®Œå–„è‚¿ç˜¤ç™»è®°ä¿¡æ¯ç³»ç»Ÿ\n- æŠ€æœ¯æŒ‡å¯¼ã€äººå‘˜åŸ¹è®­ã€è´¨é‡æ§åˆ¶å’Œè€ƒæ ¸è¯„ä»·\n- ç£å¯¼æ£€æŸ¥\n- æ•°æ®åˆ†æå’ŒæŠ¥å‘Š \n\n:::\n:::\n\n::: {.column width=\"33%\"}\n\n#### å¸‚çº§ç™»è®°å¤„\n\n*å¸‚çº§CDC/è‚¿ç˜¤åŒ»é™¢*\n\n\n:::{.callout-note}\n## èŒè´£\n- å¸‚çº§æŠ€æœ¯æŒ‡å¯¼ã€äººå‘˜åŸ¹è®­\n- è´¨é‡æ§åˆ¶\n- ç£å¯¼æ£€æŸ¥\n- æ•°æ®åˆ†æå’ŒæŠ¥å‘Š\n:::\n\n\n\n:::\n\n\n::: {.column width=\"33%\"}\n\n#### å¿åŒºçº§ç™»è®°å¤„\n\n*å¿åŒºçº§CDC*\n\n:::{.callout-note}\n## èŒè´£\n\n- æŠ€æœ¯æŒ‡å¯¼ã€äººå‘˜åŸ¹è®­\n- è´¨é‡æ§åˆ¶\n- ç£å¯¼æ£€æŸ¥\n- ç»Ÿè®¡åˆ†æå’ŒæŠ¥å‘Š\n  \n:::\n\n:::\n\n::::\n\n\n::: footer\næ•°æ®æ¥æº: æ²³å—çœè‚¿ç˜¤ç™»è®°ç®¡ç†åŠæ³•ï¼ˆè±«å«2015(10å·)æ–‡ä»¶ï¼‰\n:::\n\n## æ”¶é›†æ•°æ®å†…å®¹\n\n> è‚¿ç˜¤ç™»è®°æ”¶é›†ä¸€å®šäººç¾¤ä¸­æ‰€æœ‰æ¶æ€§è‚¿ç˜¤ã€ä¸­æ¢ç¥ç»ç³»ç»Ÿè‰¯æ€§è‚¿ç˜¤ä»¥åŠåŸä½ç™Œã€‚ <br>\n\n</br>\n\n::: columns\n::: {.column width=\"33%\"}\n#### è‚¿ç˜¤æ”¶é›†èŒƒå›´(ICD10)\n\n-   C00-C97\n-   D32-D33\n-   D42-D43\n-   D45-D47\n-   åŸä½ç™Œ\n:::\n\n::: {.column width=\"33%\"}\n#### äººå£æ•°æ®\n\n> ä»¥å¿åŒºä¸ºå•ä½æ”¶é›†ç™»è®°å¤„è¦†ç›–äººç¾¤åˆ†å¹´é¾„ã€åˆ†æ€§åˆ«æˆ·ç±äººå£æ•°\n:::\n\n::: {.column width=\"33%\"}\n#### å¯¿å‘½è¡¨æ•°æ®\n\n> ä»¥å¿åŒºä¸ºå•ä½æ”¶é›†ç™»è®°å¤„è¦†ç›–äººç¾¤åˆ†å¹´é¾„ã€åˆ†æ€§åˆ«å…¨æ­»å› æ­»äº¡æ•°ä»¥ä¼°è®¡å¯¿å‘½è¡¨\n:::\n:::\n\n## æ•°æ®é¡¹ç›®\n\n::: columns\n::: {.column width=\"30%\"}\n> è‚¿ç˜¤ç™»è®°æ”¶é›†çš„å˜é‡åŒ…æ‹¬ä»¥ä¸‹7ä¸ªéƒ¨åˆ†ï¼ˆ@fig-itemsï¼‰\n\n-   ä¸ªäººè¯†åˆ«ä¿¡æ¯\n-   äººå£å­¦ä¿¡æ¯\n-   è‚¿ç˜¤ä¿¡æ¯\n-   æ²»ç–—ä¿¡æ¯\n-   éšè®¿ä¿¡æ¯\n-   é¢„åä¿¡æ¯\n-   ä¿¡æ¯æ¥æº\n:::\n\n::: {.column width=\"70%\"}\n\n```{mermaid}\n%%| label: fig-items\n%%| fig-cap: äººç¾¤è‚¿ç˜¤ç™»è®°æ”¶é›†æ•°æ®é¡¹ç›®\nclassDiagram\n    class ä¸ªäººè¯†åˆ«ä¿¡æ¯ {\n    ç™»è®°å¤„ç¼–å·\n    èº«ä»½è¯å·\n    å§“å\n    æˆ·ç±åœ°å€\n    å¸¸ä½åœ°å€\n}\n    class äººå£å­¦ä¿¡æ¯ {\n    æ€§åˆ«\n    å¹´é¾„\n    å‡ºç”Ÿæ—¥æœŸ\n    å©šå§»çŠ¶æ€\n    èŒä¸š\n    æ°‘æ—\n}\n    class è‚¿ç˜¤ä¿¡æ¯ {\n    å‘ç—…æ—¥æœŸ\n    è¯Šæ–­ä¾æ®\n    åŸå‘éƒ¨ä½ICDO3\n    å½¢æ€å­¦ICDO3\n    è¡Œä¸ºICDO3\n    åˆ†çº§ICDO3\n    ä¸´åºŠåˆ†æœŸ/TNMåˆ†æœŸ\n    å¤šåŸå‘çŠ¶æ€\n    åŒè¾¹æ€§\n}\n    class æ²»ç–—ä¿¡æ¯ {\n    æ²»ç–—æ–¹æ³•\n}\n    class éšè®¿ç›¸å…³ä¿¡æ¯ {\n    è”ç³»ç”µè¯\n    è”ç³»äºº\n    è”ç³»äººç”µè¯\n    å¸¸ä½åœ°å€\n}\n    class ç»“å±€ä¿¡æ¯ {\n    æœ€åæ¥è§¦æ—¥æœŸ\n    ç”Ÿå­˜çŠ¶æ€\n    æ­»äº¡æ—¥æœŸ\n    æ­»äº¡åŸå› \n    æ­»äº¡åœ°ç‚¹\n}\n    class ä¿¡æ¯æ¥æº {\n    æŠ¥å‘ŠåŒ»é™¢\n    ä½é™¢å·/é—¨è¯Šå·\n    æŠ¥å‘ŠåŒ»å¸ˆ\n    æŠ¥å‘Šæ—¥æœŸ\n}\n\n    ä¸ªäººè¯†åˆ«ä¿¡æ¯ --|> äººå£å­¦ä¿¡æ¯\n    ä¸ªäººè¯†åˆ«ä¿¡æ¯ --|> è‚¿ç˜¤ä¿¡æ¯\n    ä¸ªäººè¯†åˆ«ä¿¡æ¯ --|> æ²»ç–—ä¿¡æ¯\n    ä¸ªäººè¯†åˆ«ä¿¡æ¯ --|> éšè®¿ç›¸å…³ä¿¡æ¯\n    ä¸ªäººè¯†åˆ«ä¿¡æ¯ --|> ç»“å±€ä¿¡æ¯\n    ä¸ªäººè¯†åˆ«ä¿¡æ¯ --|> ä¿¡æ¯æ¥æº\n```\n\n:::\n:::\n\n## æ•°æ®æ¥æº\n\n> è‚¿ç˜¤ç™»è®°å¼ºè°ƒ**å¤šæºä¸ŠæŠ¥**ã€æ•°æ®æ¥æºäºåŒ»é™¢ã€åŒ»ä¿ç³»ç»Ÿã€å¿-ä¹¡-æ‘åŒ»å¸ˆç½‘ã€å…¨æ­»å› æ•°æ®ç­‰ã€‚ï¼ˆ@fig-1 ï¼‰\n\n\n```{mermaid}\n%%| label: fig-1\n%%| fig-cap: è‚¿ç˜¤ç™»è®°æ•°æ®æ¥æºæ¸ é“\n%%| fig-align: center\nflowchart TD\n  A[(è‚¿ç˜¤ç™»è®°æ•°æ®åº“)] --> B(åŒ»é™¢)\n  A --> B\n  A --> C(å¿-ä¹¡-æ‘ä¸‰çº§åŒ»å¸ˆç½‘ç»œ)\n  A --> D(åŒ»ç–—ä¿é™©)\n  A --> E(æ­»å› ç›‘æµ‹)\n  A --> F(æ®¡è‘¬ç³»ç»Ÿ)\n  A --> G(å…¬å®‰ç³»ç»Ÿ)\n  B --> b1(ä½é™¢æ‚£è€…æ•°æ®)\n  B --> b2(é—¨è¯Šæ‚£è€…æ•°æ®)\n  B --> b3(ç—…æ¡ˆéƒ¨é—¨)\n  B --> b4(ç—…ç†è¯Šæ–­éƒ¨é—¨)\n  D --> d1(æ–°å†œåˆ)\n  D --> d2(åŸé•‡åŒ»ä¿)\n  D --> d3(èŒå·¥åŒ»ä¿)\n```\n\n\n\n## è‚¿ç˜¤åˆ†ç±»ä¸ç¼–ç \n\n::: columns\n::: {.column width=\"50%\"}\n<br>\n\n> è‚¿ç˜¤ç™»è®°é‡‡ç”¨ICDO3å’ŒICD10**åŒç¼–ç ç³»ç»Ÿ**\n\n#### ICD-O-3ï¼šæ•°æ®æ”¶é›†\n\n  - åŸå‘éƒ¨ä½\n  - å½¢æ€å­¦\n  - è¡Œä¸º\n  - åˆ†çº§\n\n####  ICD10 ï¼šæ•°æ®ç»Ÿè®¡åˆ†æ\n\n>  ã€Šè‚¿ç˜¤ç™»è®°å¹´æŠ¥ã€‹é‡‡ç”¨ICD10è¿›è¡Œè‚¿ç˜¤åˆ†ç±»ï¼ˆ@tbl-categoryï¼‰\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {#tbl-category .cell tbl-cap='å¸¸ç”¨ç™Œç—‡åˆ†ç±»ç»Ÿè®¡è¡¨ï¼ˆå¤§ç±»ï¼‰'}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"font-size: 12px; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> éƒ¨ä½ </th>\n   <th style=\"text-align:left;\"> ICD10 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> å£è…”å’Œå’½ (é™¤å¤–é¼»å’½ç™Œå’Œå–‰) </td>\n   <td style=\"text-align:left;\"> C00-10,C12-14ï¼ˆé™¤å¤–C10.1ï¼‰ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> é¼»å’½ç™Œ </td>\n   <td style=\"text-align:left;\"> C11 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> é£Ÿç®¡ </td>\n   <td style=\"text-align:left;\"> C15 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> èƒƒ </td>\n   <td style=\"text-align:left;\"> C16 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ç»“ç›´è‚ è‚›é—¨ </td>\n   <td style=\"text-align:left;\"> C18-21 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> è‚è„ </td>\n   <td style=\"text-align:left;\"> C22 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> èƒ†å›ŠåŠå…¶ä»– </td>\n   <td style=\"text-align:left;\"> C23-C24 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> èƒ°è…º </td>\n   <td style=\"text-align:left;\"> C25 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> å–‰ </td>\n   <td style=\"text-align:left;\"> C32ï¼ŒC10.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> æ°”ç®¡ã€æ”¯æ°”ç®¡ã€è‚º </td>\n   <td style=\"text-align:left;\"> C33-C34 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> éª¨ </td>\n   <td style=\"text-align:left;\"> C40-C41 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ä¹³æˆ¿ </td>\n   <td style=\"text-align:left;\"> C50 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> å­å®«é¢ˆ </td>\n   <td style=\"text-align:left;\"> C53 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> å­å®«ä½“åŠå­å®«éƒ¨ä½ä¸æ˜ </td>\n   <td style=\"text-align:left;\"> C54-55 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> åµå·¢ </td>\n   <td style=\"text-align:left;\"> C56 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> å‰åˆ—è…º </td>\n   <td style=\"text-align:left;\"> C61 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ç¾ä¸¸ </td>\n   <td style=\"text-align:left;\"> C62 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> è‚¾åŠæ³Œå°¿ç³»ç»Ÿä¸æ˜ </td>\n   <td style=\"text-align:left;\"> C64-66ï¼Œ68 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> è†€èƒ± </td>\n   <td style=\"text-align:left;\"> C67 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> è„‘,ç¥ç»ç³»ç»Ÿ </td>\n   <td style=\"text-align:left;\"> C70-C72 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ç”²çŠ¶è…º </td>\n   <td style=\"text-align:left;\"> C73 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> æ·‹å·´ç˜¤ </td>\n   <td style=\"text-align:left;\"> C81-85,88,90,96 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ç™½è¡€ç—… </td>\n   <td style=\"text-align:left;\"> C91-C95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> å…¶å®ƒ </td>\n   <td style=\"text-align:left;\"> Otherï¼ˆé™¤å¤–ä»¥ä¸Šï¼‰ </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> æ‰€æœ‰éƒ¨ä½åˆè®¡ </td>\n   <td style=\"text-align:left;\"> ALL </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n:::\n\n\n\n## è´¨é‡æ§åˆ¶\n\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n\n:::{.callout-tip}\n## è´¨é‡æ§åˆ¶çš„æ„ä¹‰\n - ä½¿ä¸åŒåœ°åŒºä¹‹é—´çš„æ•°æ®å…·æœ‰å¯æ¯”æ€§\n - ä»£è¡¨ç™»è®°å¤„æ‰€åœ¨åœ°åŒºçš„ç™Œç—‡äººç¾¤\n - ä½¿ç™Œç—‡æ•°æ®çœŸå®æœ‰æ•ˆ\n:::\n\n::: aside\né‡‡ç”¨IARC/IACRå›½é™…è´¨é‡æ§åˆ¶æ ‡å‡†\n:::\n\n:::\n\n::: {.column width=\"60%\"}\n\n\n```{mermaid}\n%%| label: fig-quality\n%%| fig-cap: è‚¿ç˜¤ç™»è®°è´¨é‡æ§åˆ¶æŒ‡æ ‡ä½“ç³»\n%%| fig-align: center\nflowchart LR\n  A[è´¨é‡æ§åˆ¶æŒ‡æ ‡] --> B(å¯æ¯”æ€§)\n  A --> C(å®Œæ•´æ€§)\n  A --> D(æœ‰æ•ˆæ€§)\n  A --> E(æ—¶æ•ˆæ€§)\n  B --> b1(å‘ç—…çš„å®šä¹‰)\n  B --> b2(å¤šåŸå‘åˆ¤æ–­)\n  B --> b3(åˆ†ç±»ä¸ç¼–ç )\n  B --> b4(æ­»äº¡è¯æ˜)\n  C --> c1(æ­»äº¡å‘ç—…æ¯”M:I)\n  C --> c2(åªæœ‰æ­»äº¡åŒ»å­¦è¯æ˜ä¹¦æ¯”ä¾‹DCO%)\n  C --> c3(ç»„ç»‡å­¦ç¡®è¯Šæ¯”ä¾‹MV%)\n  C --> c4(ä¸åŒæ—¶é—´å‘ç—…ç‡çš„ç¨³å®šæ€§)\n  C --> c5(å¹´é¾„åˆ«å‘ç—…ç‡æ›²çº¿)\n  D --> d1(ç»„ç»‡å­¦ç¡®è¯Šæ¯”ä¾‹)\n  D --> d2(åªæœ‰æ­»äº¡åŒ»å­¦è¯æ˜ä¹¦æ¯”ä¾‹DC\\%)\n  D --> d3(éƒ¨ä½ä¸æ˜æ¯”ä¾‹UB%)\n  D --> d4(æ•°æ®å†…éƒ¨ä¸€è‡´æ€§)\n```\n\n\n:::\n\n::::\n\n\n\n## è´¨é‡æ§åˆ¶\n<br>\n\n> è‚¿ç˜¤ç™»è®°æ”¶é›†çš„å˜é‡æˆ–è€…å˜é‡ç»„åˆä¹‹é—´å­˜åœ¨ä¸€å®šçš„é€»è¾‘å…³ç³»ï¼Œé€šè¿‡å¯¹å•ä¸ªå˜é‡æˆ–å˜é‡ç»„åˆä¹‹é—´çš„é€»è¾‘å…³ç³»è¿›è¡Œå®¡æŸ¥ï¼Œä»¥æé«˜è‚¿ç˜¤ç™»è®°æ•°æ®æœ‰æ•ˆæ€§ã€‚\n\n\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n\n:::{.callout-tip}\n\n## å•ä¸ªé¡¹ç›®\n\n- å‡ºç”Ÿæ—¥æœŸ\n- å‘ç—…æ—¥æœŸ\n- å¹´é¾„ã€æ€§åˆ«\n- å‘ç—…éƒ¨ä½\n- å½¢æ€å­¦\n- è¡Œä¸ºå’Œåˆ†çº§\n:::\n\n:::\n\n::: {.column width=\"40%\"}\n\n:::{.callout-important}\n\n## é¡¹ç›®ç»„åˆ\n\n- æ€§åˆ«/éƒ¨ä½\n- éƒ¨ä½/ç»„ç»‡å­¦å­¦\n- å¹´é¾„/éƒ¨ä½/ç»„ç»‡å­¦\n- è¡Œä¸º/éƒ¨ä½\n- è¡Œä¸º/ç»„ç»‡å­¦\n- æ€§åˆ«/ç»„ç»‡å­¦\n:::\n\n:::\n\n\n::: {.column width=\"20%\"}\n\n:::{.callout-caution}\n\n## æ ¡éªŒç»“æœ\n\n- æ­£ç¡®âœ…\n- è­¦å‘Šâš ï¸\n- é”™è¯¯âŒ\n:::\n\n:::\n::::\n\n\n## è‚¿ç˜¤ç™»è®°æŠ¥å‘Šæµç¨‹\n\n<br>\n\n\n```{mermaid}\n%%| label: fig-report\n%%| fig-cap: è‚¿ç˜¤ç™»è®°æŠ¥å‘Šæµç¨‹\n%%| fig-align: center\nflowchart LR\n  A(æ•°æ®æ¥æºå•ä½) --> B(å¿åŒºçº§ç™»è®°å¤„)\n  B --> C(å¸‚çº§ç™»è®°å¤„)\n  C --> D(çœçº§ç™»è®°å¤„)\n  D --> E(è´¨é‡æ§åˆ¶)\n  E --> B\n  B --> A\n  E --> C\n  E --> F(ç»¼åˆè¯„ä¼°)\n  F --> G(å¹´æŠ¥æ’°å†™åŠå‘å¸ƒ)\n```\n\n\n<br>\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n### ä¸»è¦å†…å®¹\n\n- è´¨é‡æ§åˆ¶æŠ¥å‘Šæ’°å†™\n- è‚¿ç˜¤ç™»è®°æŠ¥å‘Šæ’°å†™\n\n:::\n\n::: {.column width=\"50%\"}\n\n### ç‰¹ç‚¹\n\n- ç™»è®°å¤„æ•°é‡å¤š(130ä¸ªå¿åŒº)\n- å¿åŒºçº§ä¸“ä¸šäººå‘˜èƒ½åŠ›ä¸è¶³\n- è´¨æ§æŠ¥å‘Šåé¦ˆè‡³å¸‚çº§å’Œå¿åŒºçº§\n\n\n:::\n\n::::\n\n## æ–‡å­¦ç¼–ç¨‹å’Œå¯èƒ½é‡å¤æ€§æŠ¥å‘Šæ¦‚å¿µçš„å¼•å…¥\n\n> **æ–‡å­¦ç¼–ç¨‹**:å¼ºè°ƒä»¥è‡ªç„¶è¯­è¨€å‘ˆç°è®¡ç®—é€»è¾‘ï¼Œä»¥æ–‡æœ¬æè¿°å’Œè®¡ç®—ä»£ç ç›¸äº’æ··åˆçš„æ–¹å¼ï¼Œä»è®¡ç®—æœºä»£ç çš„æ‰§è¡Œé€»è¾‘è¿‡æ¸¡åˆ°äººçš„æ€ç»´é€»è¾‘ã€‚\n\n> **å¯é‡å¤æ€§æŠ¥å‘Š**:åˆ©ç”¨ä»£ç æŠŠæ•°æ®åˆ†æè¿‡ç¨‹å’ŒæŠ¥å‘Šæ’°å†™è¿‡ç¨‹ä¸²èµ·æ¥ï¼Œæœ€ç»ˆç”Ÿæˆå¯é‡å¤æ€§çš„æŠ¥å‘Šã€‚\n\n<br>\n\n- åŸºäº*åŸå§‹æ•°æ®*æ›´æ–°æŠ¥å‘Š\n- æŠ¥å‘Šçš„*æ‰¹é‡åŒ–*ç”Ÿæˆ\n- å¤šç§æ ¼å¼è¾“å‡º(htmlã€docx)\n\n\n# åŸºäºR Markdown / Quarto çš„å¯é‡å¤æ€§æŠ¥å‘Š {background-color=\"lightblue\"}\n\n\n## Markdown\n\n<br>\n\n> å®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„**çº¯æ–‡æœ¬æ ¼å¼**ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæœ‰æ•ˆçš„ XHTMLï¼ˆæˆ–è€…HTMLï¼‰æ–‡æ¡£ã€‚\n\n<br>\n\n- è½»é‡çº§æ ‡è®°è¯­è¨€\n- è½»é‡åŒ–ã€æ˜“è¯»æ˜“å†™ã€å¯¹å›¾ç‰‡ã€è¡¨æ ¼ã€æ•°å­¦å…¬å¼æ”¯æŒ\n- Githubã€Redditã€Diasporaã€Stack Exchangeã€OpenStreetMapã€SourceForgeã€ç®€ä¹¦ç­‰ï¼Œç”šè‡³è¿˜èƒ½è¢«ä½¿ç”¨æ¥æ’°å†™ç”µå­ä¹¦\n\n\n\n## R Markdown\n\n<br>\n\n> R MarkdownæŠŠ*æŠ¥å‘Šæ–‡æœ¬*å’Œ*ç»Ÿè®¡è®¡ç®—ä»£ç *æ•´åˆèµ·æ¥ï¼Œä»è€Œå®ç°ä¸€æ¬¡è¾“å…¥å¤šç§æ ¼å¼è¾“å‡º(HTMLã€PDFã€WORDç­‰)ã€‚\n\n<br>\n\n- YAML å…ƒæ•°æ®è®¾ç½®\n- ä»£ç å—ï¼ˆRã€Pythonç­‰ï¼‰\n- Markdownæ–‡æœ¬\n\n\n\n## R Markdown\n\n### YAMLå…ƒæ•°æ®\n\n```yaml\n---\ntitle: \"æ²³å—çœæ¶æ€§è‚¿ç˜¤2017-2019å¹´5å¹´ç›¸å¯¹ç”Ÿå­˜ç‡\"\nauthors:\n  - name: é™ˆç¼\n    affiliations:\n      - ref: zlyy\n  - name: å¼ æ˜éœ\n    affiliations:\n      - ref: zlyy\n      - ref: lzu\n  - name: éƒ­å…°ä¼Ÿ\n    affiliations:\n      - ref: zlyy\n  - name: éƒ‘é»é˜³\n    affiliations:\n      - ref: zlyy\n  - name: åˆ˜çº¯äºš\n    affiliations:\n      - ref: zlyy\n  - name: ç‹ä¸€å…ˆ\n    affiliations:\n      - ref: zlyy\n  - name: åˆ˜èŒµ\n    affiliations:\n      - ref: zlyy\n  - name: ç‹çº¢\n    affiliations:\n      - ref: zlyy\n  - name: å¾æ…§èŠ³\n    affiliations:\n      - ref: zlyy\n  - name: åº·ç‘å\n    affiliations:\n      - ref: zlyy\n  - name: ç‹æ½‡æ¨\n    affiliations:\n      - ref: zlyy\n  - name: åˆ˜æ›™æ­£\n    affiliations:\n      - ref: zlyy\n  - name: å¼ éŸ¶å‡¯\n    affiliations:\n      - ref: zlyy\n    corresponding: true\n    email: shaokaizhang@126.com\naffiliations:\n  - id: zlyy\n    name: éƒ‘å·å¤§å­¦é™„å±è‚¿ç˜¤åŒ»é™¢(æ²³å—çœè‚¿ç˜¤åŒ»é™¢)ï¼Œç–¾ç—…é¢„é˜²æ§åˆ¶ç§‘ï¼›æ²³å—çœè‚¿ç˜¤é˜²æ§å·¥ç¨‹ç ”ç©¶ä¸­å¿ƒï¼›æ²³å—çœè‚¿ç˜¤é¢„é˜²å›½é™…è”åˆå®éªŒå®¤ï¼Œéƒ‘å·ï¼Œ450008ã€‚\n    city: éƒ‘å·\n    state: æ²³å—çœ\n  - id: lzu\n    name: å…°å·å¤§å­¦å…¬å…±å«ç”Ÿå­¦é™¢\n    city: å…°å·\n    state: ç”˜è‚ƒçœ\nfilters:\n  - authors-block\n\n#prefer-html: true\nexecute: \n  echo: false\n  warning: false\n  message: false\n  tbl-cap-location: top\n#lang: zh\ncrossref:\n  fig-title: å›¾     \n  tbl-title: è¡¨     \n  title-delim: \"\"\n  tbl-prefix: è¡¨\n\nformat: \n  docx: \n    number-sections: true\n    number-depth: 3\n    reference-doc: chinese.docx\n\nbibliography: survival17-19.bib\ncsl: \"zhonghua.csl\"\neditor_options: \n  chunk_output_type: console\n---\n```\n\n\n\n## R Markdown\n\n### ä»£ç å—\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n\n::: {#tbl-table1 .cell .tbl-cap-location-top tbl-cap='æ¥å—ä¸åŒè¯ç‰©æ²»ç–—äººç¾¤åŸºæœ¬ç‰¹å¾åˆ†æ'}\n\n````{.cell-code}\n```{{r}}\n#| label: tbl-table1\n#| tbl-cap-location: top\n#| tbl-cap: \"æ¥å—ä¸åŒè¯ç‰©æ²»ç–—äººç¾¤åŸºæœ¬ç‰¹å¾åˆ†æ\"\n#| warning: false\n#| eval: false\n#| message: false\n\nlibrary(gtsummary)\n\ntrial %>% select(age, grade, response, trt) %>% \n   tbl_summary(by=trt) %>% \n  add_p() %>% \n  add_overall() %>% \n  add_n() %>% \n  bold_labels() \n```\n````\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/table.jpg){width=659}\n:::\n:::\n\n\n:::\n\n::::\n\n\n## R Markdown\n\n### Markdownæ–‡æœ¬\n\n```yaml\n**é€šè®¯ä½œè€…**ï¼šå¼ éŸ¶å‡¯ï¼ŒEmail: shaokaizhang\\@126.com\n\nã€**æ‘˜è¦**ã€‘\n\n**ç›®çš„** åˆ©ç”¨æ²³å—çœäººç¾¤è‚¿ç˜¤ç™»è®°æ•°æ®åˆ†ææ²³å—çœäººç¾¤ç™Œç—‡5å¹´ç›¸å¯¹ç”Ÿå­˜ç‡ã€‚\n\n**æ–¹æ³•** æå–æ²³å—çœè‚¿ç˜¤ç™»è®°æ•°æ®åº“ä¸­25ä¸ªè‚¿ç˜¤ç™»è®°å¤„è¯Šæ–­æ—¥æœŸåœ¨2014å¹´1æœˆ1æ—¥è‡³2019å¹´12æœˆ31æ—¥ä¹‹é—´ä»¥åŠ2014å¹´ä¹‹å‰è¯Šæ–­ä½†æ˜¯2019å¹´12æœˆ31æ—¥ä¹‹å‰ä»ç„¶å­˜æ´»çš„ç™Œç—‡ç—…ä¾‹ï¼ˆICD10ç¼–ç èŒƒå›´ï¼šC00-C97ã€D32-D33ã€D42-D43å’ŒD45-D47ï¼‰ï¼Œéšè®¿æˆªæ­¢æ—¥æœŸè®¾å®šä¸º2019å¹´12æœˆ31æ—¥ï¼Œåˆ©ç”¨ç°æ—¶ç”Ÿå­˜åˆ†ææ³•å’ŒRè¯­è¨€\"periodR\"åŒ…çš„EdererIIæ³•è®¡ç®—ç™Œç—‡çš„5å¹´ç›¸å¯¹ç”Ÿå­˜ç‡ã€‚\n\n**ç»“æœ** 2017-2019å¹´æœŸé—´ï¼Œæ²³å—çœ0-14å²å„¿ç«¥ç™Œç—‡çš„5å¹´ç›¸å¯¹ç”Ÿå­˜ç‡ä¸º62.5%ï¼Œ15å²åŠä»¥ä¸Šæˆäººç™Œç—‡5å¹´ç›¸å¯¹ç”Ÿå­˜ç‡ä¸º44.2%ï¼Œå¹´é¾„æ ‡åŒ–åä¸º40.7%ã€‚æ€»ä½“ç™Œç—‡5å¹´ç”Ÿå­˜ç‡å‘ˆç°å¥³æ€§é«˜äºç”·æ€§ï¼ˆ47.1% VS 34.4%, *P*\\<0.01ï¼‰ã€åŸå¸‚åœ°åŒºé«˜äºå†œæ‘åœ°åŒºï¼ˆ46.4% VS 39.2%, *P*\\<0.01ï¼‰çš„ç‰¹ç‚¹ã€‚åœ¨ä¸åŒå‘ç—…éƒ¨ä½çš„ç™Œç—‡æ‚£è€…ä¸­ï¼Œç”²çŠ¶è…ºç™Œã€ç¾ä¸¸ç™ŒåŠä¹³è…ºç™Œå…·æœ‰æœ€é«˜çš„5å¹´ç›¸å¯¹ç”Ÿå­˜ç‡ï¼Œåˆ†åˆ«ä¸º86.4%ã€74.4%å’Œ73.1%ï¼›è‚ç™Œã€èƒ°è…ºç™Œã€è‚ºç™Œå…·æœ‰æœ€ä½çš„5å¹´ç›¸å¯¹ç”Ÿå­˜ç‡ï¼Œåˆ†åˆ«ä¸º19.1%ã€20.5%å’Œ24.3%ã€‚\n\n**ç»“è®º** æ²³å—çœå„¿ç«¥åŠæˆäººç™Œç—‡æ‚£è€…æ€»ä½“5å¹´ç›¸å¯¹ç”Ÿå­˜ç‡ä»ç„¶è¾ƒä½ï¼Œåº”æ ¹æ®æ²³å—çœç™Œç—‡æµè¡Œæƒ…å†µåŠä¸åŒç™Œç—‡çš„ç”Ÿå­˜ç‡æ•°æ®è°ƒæ•´å’Œä¼˜åŒ–ç™Œç—‡é˜²æ§ç­–ç•¥å’Œæªæ–½ã€‚\n\nã€**å…³é”®è¯**ã€‘ ç™Œç—‡ï¼›ç™Œç—‡é˜²æ§ï¼›ç°æ—¶ç”Ÿå­˜åˆ†æï¼›5å¹´ç›¸å¯¹ç”Ÿå­˜ç‡ï¼›æ²³å—çœ\n\nThe 5-year relative survival among cancer patients diagnosed during 2017-2019 in Henan Province, China {.unnumbered}\n\nQiong Chen$^1$, Mingxia Zhang$^12$, Lanwei Guo$^1$, Liyang Zheng$^1$, Yixian Wang$^1$, Yin Liu$^1$, Hong Wang$^1$, Huifang Xu$^1$, Ruihua Kang$^1$, Xiaoyang Wang$^1$, Shuzheng Liu$^1$, Shaokai Zhang$^1$\n\n$^1$ The Affiliated Cancer Hospital of Zhengzhou University & Henan Cancer Hospital, Zhengzhou 450008, Chinaã€‚ $^2$ School of Public Health, Lanzhou University.\n\n**Corresponding** toï¼šShaokai Zhangï¼ŒEmail:shaokaizhang\\@126.com\n\n**Abstract** \n\n**Objective** To analyze the 5-year relative survival rate of cancer in the population of Henan Province using cancer registration data. \n\n**Methods** Cancer cases were extracted from the cancer registration database of Henan Province with the diagnosis date between January 1, 2014 and December 31, 2019, and those diagnosed before 2014 but still alive by December 31, 2019 were included. The follow-up date was set as December 31, 2019. The 5-year relative survival rate of cancer was calculated using the period survival analysis method and the Ederer II method in the R package \"periodR\". \n\n**Results** The 5-year cancer relative survival rate in children aged 0-14 in Henan Province was 62.5% during 2017-2019, while that in adults aged 15 and above was 44.2%, age-standardized to 40.7%. The overall cancer 5-year survival rate was higher in females than in males (47.1% vs 34.4%, *P*\\<0.01) and in urban areas than in rural areas (46.4% vs 39.2%, *P*\\<0.01). Among patients with different cancer sites, thyroid cancer, testicular cancer, and breast cancer had the highest 5-year relative survival rates, which were 86.4%, 74.4%, and 73.1%, respectively. Liver cancer, pancreatic cancer, and lung cancer had the lowest 5-year relative survival rates, which were 19.1%, 20.5%, and 24.3%, respectively. \n\n**Conclusion** The overall 5-year relative survival rate of cancer in children and adults in Henan Province is still low, and cancer prevention and control strategies and measures should be adjusted and optimized according to the cancer incidence and survival rate data in Henan Province.\n\n**Keywords**: Cancer; cancer control; period survival; 5-year relative survival; Henan\n```\n\n\n## R Markdown {background-color=\"lightblue\"}\n\n> R é€šè¿‡ä¸€ç³»åˆ—åŒ…å®ç°äº†æ–‡å­¦ç¼–ç¨‹çš„ä¸»è¦åŠŸèƒ½ã€‚\n\n:::: {.columns}\n\n::: {.column width=\"30%\"}\n\n- rmarkdown\n- knitr\n- bookdown\n- blogdown\n- thesisdown\n- posterdown\n- distill\n- xaringan\n- tinytex\n\n:::\n\n::: {.column width=\"70%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/rmd-packages.png){width=600}\n:::\n:::\n\n\n:::\n\n::::\n\n\n## Pandoc\n\n> Pandocæ˜¯ä½¿ç”¨Haskellè¯­è¨€ç¼–å†™çš„ä¸€æ¬¾è·¨å¹³å°ã€è‡ªç”±å¼€æºåŠå‘½ä»¤è¡Œç•Œé¢çš„æ ‡è®°è¯­è¨€è½¬æ¢å·¥å…·ï¼Œå¯å®ç°ä¸åŒæ ‡è®°è¯­è¨€é—´çš„æ ¼å¼è½¬æ¢ã€‚\n\n\n::: {style=\"font-size: 70%;\"}\n\n- HTMLæ ¼å¼ï¼šåŒ…æ‹¬XHTMLï¼ŒHTML5åŠHTML slide\n- æ–‡å­—å¤„ç†è½¯ä»¶æ ¼å¼ï¼šåŒ…æ‹¬docxã€odtã€OpenDocument XML\n- ç”µå­ä¹¦æ ¼å¼ï¼šåŒ…æ‹¬EPUBï¼ˆç¬¬2ç‰ˆåŠç¬¬3ç‰ˆï¼‰ã€FictionBook2\n- æŠ€æœ¯æ–‡æ¡£æ ¼å¼ï¼šåŒ…æ‹¬DocBookã€GNU TexInfoã€Groff manpagesã€Haddock\n- é¡µé¢å¸ƒå±€æ ¼å¼ï¼šInDesign ICML\n- å¤§çº²å¤„ç†æ ‡è®°è¯­è¨€æ ¼å¼ï¼šOPML\n- TeXæ ¼å¼ï¼šåŒ…æ‹¬LaTeXã€ConTeXtã€LaTeX Beamer\n- PDFæ ¼å¼ï¼šéœ€è¦LaTeXæ”¯æŒ\n- è½»é‡çº§æ ‡è®°è¯­è¨€æ ¼å¼ï¼šåŒ…æ‹¬Markdownã€reStructuredTextã€textileã€Org-Modeã€MediaWikiæ ‡è®°è¯­è¨€ã€AsciiDoc\n- è‡ªå®šä¹‰æ ¼å¼ï¼šå¯ä½¿ç”¨luaè‡ªå®šä¹‰è½¬æ¢è§„åˆ™\n\n:::\n\n\n\n## Quarto ä¸‹ä¸€ä»£ R Markdown\n\n<br>\n\n> QuartoÂ® is an open-source scientific and technical publishing system built on Pandoc.\n\n<br>\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](https://quarto.org/docs/get-started/hello/images/rstudio-qmd-how-it-works.png)\n:::\n:::\n\n\n\n## Quartoç‰¹ç‚¹\n\n- å®ƒå¯ä»¥ç‹¬ç«‹äºRã€Rstudioæˆ–è€…å…¶ä»–è½¯ä»¶å¦‚pythonç­‰ç¼–ç¨‹æˆ–ç»Ÿè®¡è½¯ä»¶ï¼Œæ”¯æŒåœ¨Macosã€Linuxã€Windowsç³»ç»Ÿè¿è¡Œï¼›\n- Quartoç»§æ‰¿äº†ä¸€äº›RmdåŒ…çš„ç‰¹ç‚¹ã€å¦‚blogdownã€bookdownã€xaringanç­‰ï¼›\n- åœ¨ç”Ÿæˆwebsiteã€blogã€bookã€slidesç­‰å„ç§æ ¼å¼ä¸­æœ‰äº†ç»Ÿä¸€çš„è¯­æ³•ï¼Œç¼©å°äº†ä½¿ç”¨è€…çš„å­¦ä¹ æˆæœ¬ï¼›\n- æ”¯æŒçš„è¯­è¨€åŒ…æ‹¬Rã€Pythonã€Juliaå’ŒObservableï¼›\n- quartoæœ‰äº†æ–°çš„æ–‡æ¡£æ ¼å¼ï¼Œæ–‡æ¡£æ‰©å±•åä¸ºâ€œ.qmdâ€, ä»£ç å—é€‰é¡¹çš„å½¢å¼æœ‰äº†å˜åŒ–ã€‚\n- æ”¯æŒç§‘æŠ€å†™ä½œçš„ç‰¹å¾ï¼Œå¦‚å…¬å¼ã€å¼•ç”¨ã€äº¤å‰å¼•ç”¨ã€å›¾ã€è¡¨ç­‰ã€‚\n\n## ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Quarto / R Markdown ?\n\n\n```{mermaid}\n%%| label: fig-1\n%%| fig-cap: æŠ¥å‘Šæ’°å†™æµç¨‹\n%%| fig-align: center\nflowchart LR\n  A[(æ•°æ®æ¸…æ´—)] --> B(ç»Ÿè®¡åˆ†æ)\n  B --> C{ç»“æœåˆæ­¥è¯„ä¼°}\n  C --> B\n  C --> D(ç»Ÿè®¡åˆ¶è¡¨)\n  D --> E[æŠ¥å‘Šæ’°å†™]\n  E -- å‘ç°ä¸åˆç†ç»“æœ --> B\n  E --> F[å‡ºç‰ˆæµç¨‹]\n  F --> G[ä¸“å®¶æ„è§]\n  G -- å»ºè®®é‡æ–°ç»Ÿè®¡ --> B\n  G -- ä¸éœ€è¦é‡æ–°ç»Ÿè®¡ --> E\n  G --> H[æ­£å¼å‡ºç‰ˆ]\n```\n\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n\n:::{.callout-tip}\n\n## å¯èƒ½å­˜åœ¨çš„æƒ…å½¢\n\n- ç»Ÿè®¡åˆ†æ(SASã€Rã€SPSSã€EXCEL)\n- æ•°æ®å¯è§†åŒ–å±•ç°(Rã€SASã€EXCEL)\n- æ’°å†™æŠ¥å‘Š(WORDã€WPSã€å…¶å®ƒæ–‡å­—å¤„ç†è½¯ä»¶)\n- å›¾è¡¨äº¤å‰å¼•ç”¨\n- å‚è€ƒæ–‡çŒ®çš„å¼•ç”¨(Zoteroã€Endnoteã€Mendley)\n\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\n:::{.callout-tip}\n\n## å­˜åœ¨çš„é—®é¢˜\n\n- ç»Ÿè®¡è¿‡ç¨‹ä¸æŠ¥å‘Šæ’°å†™çš„å‰²è£‚\n- å­˜åœ¨é‡å¤æ€§å·¥ä½œçš„å¯èƒ½ \n\n:::\n\n:::\n\n::::\n\n\n## åº”ç”¨åœºæ™¯\n\n<br>\n\n:::: {.columns}\n\n::: {.column width=\"30%\"}\n- ç§‘æŠ€è®ºæ–‡æ’°å†™\n- ä¹¦ç±ç¼–å†™\n- å¹»ç¯ç‰‡åˆ¶ä½œ\n- åšå®¢\n- ç½‘ç«™\n:::\n\n::: {.column width=\"70%\"}\n\n\n::: {.cell}\n<iframe src=\"https://www.chenq.site/qsight\" width=\"960\" height=\"400px\" data-external=\"1\"></iframe>\n:::\n\n\n:::\n\n::::\n\n\n\n## åº”ç”¨åœºæ™¯\n\n<br>\n\n:::: {.columns}\n\n::: {.column width=\"30%\"}\n- ç§‘æŠ€è®ºæ–‡æ’°å†™\n- ä¹¦ç±ç¼–å†™\n- å¹»ç¯ç‰‡åˆ¶ä½œ\n- åšå®¢\n- ç½‘ç«™\n:::\n\n::: {.column width=\"70%\"}\n\n\n::: {.cell}\n<iframe src=\"https://www.chenq.site/slides/2023-5-11-system\" width=\"960\" height=\"400px\" data-external=\"1\"></iframe>\n:::\n\n\n:::\n\n::::\n\n\n## åº”ç”¨åœºæ™¯\n\n<br>\n\n:::: {.columns}\n\n::: {.column width=\"30%\"}\n- ç§‘æŠ€è®ºæ–‡æ’°å†™\n- ä¹¦ç±ç¼–å†™\n- å¹»ç¯ç‰‡åˆ¶ä½œ\n- åšå®¢\n- ç½‘ç«™\n:::\n\n::: {.column width=\"70%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/paper.jpg){width=821}\n:::\n:::\n\n\n:::\n\n::::\n\n\n## åº”ç”¨åœºæ™¯\n\n<br>\n\n:::: {.columns}\n\n::: {.column width=\"30%\"}\n- ç§‘æŠ€è®ºæ–‡æ’°å†™\n- ä¹¦ç±ç¼–å†™\n- å¹»ç¯ç‰‡åˆ¶ä½œ\n- åšå®¢\n- ç½‘ç«™\n:::\n\n::: {.column width=\"70%\"}\n\n\n::: {.cell}\n<iframe src=\"https://www.chenq.site/report/2021\" width=\"960\" height=\"400px\" data-external=\"1\"></iframe>\n:::\n\n\n:::\n\n::::\n\n# è‚¿ç˜¤ç™»è®°æŠ¥å‘Šçš„å®é™…åº”ç”¨åˆ†äº« {background-color=\"lightblue\"}\n\n## Cancer Incidence in Five Continents-IARC\n\n### YAMLå…ƒæ•°æ®è®¾ç½®\n\n```yaml\n--- \ntitle: \"æ²³å—çœã€Šäº”å¤§æ´²å‘ç—…ç‡ç¬¬12å·ã€‹æ•°æ®ä¸ŠæŠ¥å®¡æ ¸ç¨‹åº\"\nsubtitle: \"ç™»è®°å¤„ï¼š\"\nauthor: \n- \"2013-2017å¹´\"\n- \"Qiong Chen @ Henan Cancer Center/Henan Cancer Hospital\"\ndate: \"\"\noutput:\n  prettydoc::html_pretty:\n    theme: cayman\n    number_section: TRUE\n    highlight: github\nvignette: >\n  %\\VignetteIndexEntry{Vignette Title}\n  %\\VignetteEncoding{UTF-8}\n  %\\VignetteEngine{knitr::rmarkdown}\neditor_options: \n  chunk_output_type: console\n---\n```\n\n## Cancer Incidence in Five Continents-IARC\n\n### ä»£ç å—\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::opts_chunk$set(\n\techo = FALSE,\n\twarning = FALSE,\n\tfig.width=10,\n\tfig.height=8\n)\nlibrary(dplyr)\nlibrary(knitr)\nlibrary(kableExtra)\nlibrary(reshape2)\nlibrary(ggplot2)\nlibrary(tidyr)\n\nperiod<-20132017\n\n#ç‡çš„ç»Ÿè®¡å­¦æ£€éªŒ\nreport <- report%>%\n  group_by(year,sex,code)%>%\n  mutate(y_ics2000=sum(ics2000)/n(),\n         a_ics2000=sum((ics2000-sum(ics2000)/n())^2/var_ics2000)/(n()-1),\n         a_ics2000=ifelse(a_ics2000<=1,1,a_ics2000),\n         z_ics2000=(ics2000-sum(ics2000)/n())^2/(a_ics2000*var_ics2000),\n        \n         y_dcs2000=sum(dcs2000)/n(),\n         a_dcs2000=sum((dcs2000-sum(dcs2000)/n())^2/var_dcs2000)/(n()-1),\n         a_dcs2000=ifelse(a_dcs2000<=1,1,a_dcs2000),\n         z_dcs2000=(dcs2000-sum(dcs2000)/n())^2/(a_dcs2000*var_dcs2000),\n         \n         y_iws85=sum(iws85)/n(),\n         a_iws85=sum((iws85-sum(iws85)/n())^2/var_iws85)/(n()-1),\n         a_iws85=ifelse(a_iws85<=1,1,a_iws85),\n         z_iws85=(iws85-sum(iws85)/n())^2/(a_iws85*var_iws85),\n         \n         y_dws85=sum(dws85)/n(),\n         a_dws85=sum((dws85-sum(dws85)/n())^2/var_dws85)/(n()-1),\n         a_dws85=ifelse(a_dws85<=1,1,a_dws85),\n         z_dws85=(dws85-sum(dws85)/n())^2/(a_dws85*var_dws85),\n         \n         mvn=b5+b6+b7,\n         p1=(b5+b6+b7)/fhj,\n         p=sum(mvn)/sum(fhj),\n         a_mv=sum((mvn-p*fhj)^2/(fhj*p1*(1-p1)))/(n()-1),\n         z_mv=(mvn-p*fhj)^2/(a_mv*p1*(1-p1)*fhj),\n        \n         a_mi=sum(shj)/sum(fhj),\n         aa_mi=sum((shj-a_mi*fhj)^2/((shj+fhj)*a_mi))/(n()-1),\n         z_mi=(shj-a_mi*fhj)^2/(aa_mi*(shj+fhj)*a_mi),\n         \n\ndiff2_ics2000=ifelse(z_ics2000>3.84 & ics2000/y_ics2000>1, paste0(\">\",\"(\",round(ics2000/y_ics2000,1),\")\"),\n              ifelse(z_ics2000>3.84 & ics2000/y_ics2000<1, paste0(\"<\",\"(\",round(ics2000/y_ics2000,1),\")\"),\"\")),\ndiff2_dcs2000=ifelse(z_dcs2000>3.84 & dcs2000/y_dcs2000>1, paste0(\">\",\"(\",round(dcs2000/y_dcs2000,1),\")\"),\n              ifelse(z_dcs2000>3.84 & dcs2000/y_dcs2000<1, paste0(\"<\",\"(\",round(dcs2000/y_dcs2000,1),\")\"),\"\")),\ndiff2_iws85=ifelse(z_iws85>3.84 & iws85/y_iws85>1, paste0(\">\",\"(\",round(iws85/y_iws85,1),\")\"),\n            ifelse(z_iws85>3.84 & iws85/y_iws85<1, paste0(\"<\",\"(\",round(iws85/y_iws85,1),\")\"),\"\")),\ndiff2_dws85=ifelse(z_dws85>3.84 & dws85/y_dws85>1, paste0(\">\",\"(\",round(dws85/y_dws85,1),\")\"),\n            ifelse(z_dws85>3.84 & dws85/y_dws85<1, paste0(\"<\",\"(\",round(dws85/y_dws85,1),\")\"),\"\")),\n         \n         diff_mi=ifelse(z_mi>3.84 & mi/a_mi>1,paste0(\">\",\"(\",round(mi/a_mi,1),\")\"),\n                        ifelse(z_mi>3.84 & mi/a_mi<1,paste0(\"<\",\"(\",round(mi/a_mi,1),\")\"),\"\")),\n         diff_mv=ifelse(z_mv>3.84 & p1/p>1,paste0(\">\",\"(\",round(p1/p,1),\")\"),\n                        ifelse(z_mv>3.84 & p1/p<1,paste0(\"<\",\"(\",round(p1/p,1),\")\"),\"\"))\n         \n         )%>%\n  ungroup()%>%\n  select(-a_ics2000,-z_ics2000,-a_dcs2000,-z_dcs2000,-y_iws85,-a_iws85,-z_iws85,-y_dws85,-a_dws85,-z_dws85,-mvn,-a_mv,-z_mv,-aa_mi,-z_mi)\n\n\n\nquality <- haven::read_sas(\"Y:/CanReg/statistic/code/create_report/codedata/quality.sas7bdat\")\nquality <- quality %>% mutate(city=ifelse(city==0,2,1),city=as.character(city))\nsite <- unique(registry[registry$name==state,c(\"areacode\")]$areacode)\n\n#levels <- c(110,104,103,106,112,105,113,120,115,116,119,122)\n#labels <- c(\"è‚º\",\"èƒƒ\",\"é£Ÿç®¡\",\"è‚\",\"ä¹³æˆ¿\",\"ç»“ç›´è‚ \",\"å®«é¢ˆ\",\"ç”²çŠ¶è…º\",\"åµå·¢\",\"å‰åˆ—è…º\",\"è„‘\",\"ç™½è¡€ç—…\")\n\nlevels=c(122,121,120,119,113,112,105,103,106,104,110,62)\nlabels=c(\"ç™½è¡€ç—…\",\"æ·‹å·´ç˜¤\",\"ç”²çŠ¶è…º\",\"è„‘\",\"å®«é¢ˆ\",\"ä¹³æˆ¿\",\"ç»“ç›´è‚ \",\"é£Ÿç®¡\",\"è‚\",\"èƒƒ\",\"è‚º\",\"æ‰€æœ‰éƒ¨ä½\")\n\n\nyears<-report[report$areacode==site&!(report$year%in%c(\"20132017\",\"20182022\")),c(\"year\")]$year\nmax<-as.numeric(max(years))\nmin<-as.numeric(min(years))\ncaption2<-paste0(\"å›¾ä¸­>(O/E)æˆ–<(O/E)è¡¨ç¤ºç™»è®°å¤„æŒ‡æ ‡ä¸åŒæœŸæ²³å—çœå„ç™»è®°å¤„çš„å¹³å‡å€¼ç›¸æ¯”å…·æœ‰ç»Ÿè®¡å­¦æ„ä¹‰\\n(O/E)è¡¨ç¤ºç™»è®°å¤„æŒ‡æ ‡ä¸å¹³å‡å€¼æŒ‡æ ‡çš„æ¯”å€¼\")\n\n\npop <- report%>%filter(areacode==site,sex==\"åˆè®¡\",code==62,year==\"2017\")%>%select(rhj)\npop <-pop$rhj\n\nmv <- report%>%filter(areacode==site,sex==\"åˆè®¡\",code==62,year==\"20132017\")%>%select(mv)\nmv <-mv$mv\n\nmi <- report%>%filter(areacode==site,sex==\"åˆè®¡\",code==62,year==\"20132017\")%>%select(mi)\nmi <-mi$mi\n\ncr_color_block <- function() {\n  theme_classic()+\n  theme(\n    legend.title= element_blank(),\n    legend.position= \"top\",\n    strip.text= element_text(size=10,face=\"bold.italic\"),\n    strip.background= element_rect(color=\"white\",size=0),\n    axis.line= element_blank(),\n    axis.ticks= element_blank(),\n    axis.title= element_blank(),\n    axis.text= element_text(size=11,face=\"bold.italic\"),\n    axis.text.x= element_text(size=11,face=\"bold.italic\",angle = 90),\n    plot.title= element_text(face=\"bold\", size=14, hjust = 0.5),\n    plot.subtitle = element_text(face=\"bold\",size=10,hjust=0.5),\n    plot.caption = element_text(size=8)\n  )\n}\n\n\ncr_grid <- function() {\n  theme_light()+\n  theme(\n    legend.title= element_blank(),\n    legend.position= \"bottom\",\n    strip.text= element_text(size=10,face=\"bold.italic\"),\n    strip.background= element_rect(color=\"white\",size=0),\n    axis.line.y= element_blank(),\n    axis.ticks.y= element_blank(),\n    axis.title= element_blank(),\n    axis.text= element_text(size=9,face=\"bold.italic\"),\n    plot.title= element_text(face=\"bold\", size=14, hjust = 0.5),\n    plot.subtitle=element_text(face=\"bold.italic\",size=12,hjust=0.5),\n    # add border 1)\n    panel.border = element_rect(colour = \"blue\", fill = NA, linetype = 2),\n    # color background 2)\n    panel.background = element_rect(fill = \"aliceblue\"),\n    # modify grid 3)\n    panel.grid.major.x = element_line(colour = \"steelblue\", linetype = 3, size = 0.5),\n    panel.grid.minor.x = element_blank(),\n    panel.grid.major.y =  element_line(colour = \"steelblue\", linetype = 3, size = 0.5),\n    panel.grid.minor.y = element_blank()\n  )\n}\n```\n:::\n\n\n## Cancer Incidence in Five Continents-IARC\n\n### ä»£ç å—\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfor (i in min:max) {\n report %>%\n  filter(areacode==site, code==62, !(sex==\"åˆè®¡\"), year==i)%>%\n  select(year,sex,r0:r85)%>%\n  gather(\"agegrp\",\"rks\",-year,-sex)%>%\n  mutate(agegrp=as.numeric(gsub(\"[^0-9]\", \"\", agegrp)),\n         rks=ifelse(sex==\"ç”·æ€§\",-rks,rks),\n         agegrp=factor(agegrp,labels = c(\"0\",\"1-4\",\"5-9\",\"10-14\",\"15-19\",\"20-24\",\"25-29\",\"30-34\",\"35-39\",\"40-44\",\"45-49\",\"50-54\",\"55-59\",\"60-64\",\"65-69\",\"70-74\",\"75-79\",\"80-84\",\"85+\")))%>%\n  group_by(sex)%>%\n  mutate(rks=round(rks/sum(rks),2),\n         rks=ifelse(sex==\"ç”·æ€§\",-rks,rks))%>%\n  ggplot(aes(x=factor(agegrp),y=rks,fill=sex)) +\n  geom_bar(stat = \"identity\",position = \"identity\",color=\"black\",size=0.25)+\n  coord_flip()+\n  theme_classic()+\n  xlab(\"\")+\n  ylab(\"\")+\n  scale_y_continuous(limits = c(-0.12,0.12),breaks=seq(-0.12,0.12,0.02),labels = function(x) paste0(abs(x) * 100, '%'))+\n  labs(title=\"å†å¹´äººå£é‡‘å­—å¡”å˜åŒ–æƒ…å†µ\",subtitle=paste(i))+\n  theme(legend.position = c(0.1,0.9),\n        legend.title = element_blank(),\n        strip.text = element_text(size=10, face=\"bold.italic\"),\n        strip.background = element_rect(color=\"white\", size=0),\n        axis.text=element_text(size=10),\n        axis.title=element_text(size=12, face=\"bold\"),\n        plot.title = element_text(face=\"bold\", size=14, hjust = 0.5),\n        plot.subtitle=element_text(face=\"bold\",size=13,hjust=0.8,colour=\"tomato\"))->p\n  plot(p)\n}\n```\n:::\n\n\n## Cancer Incidence in Five Continents-IARC\n\n### Markdownæ–‡æœ¬\n\n```md\n# åŸºæœ¬æƒ…å†µä»‹ç»\n\nè‚¿ç˜¤ç™»è®°å¤„æ‹Ÿä¸ŠæŠ¥è‡³å¹´è‚¿ç˜¤ç™»è®°æ•°æ®è‡³äº”å¤§æ´²å‘ç—…ç‡ç¬¬12å·ã€‚\n\næ²³å—çœè‚¿ç˜¤ç™»è®°å¤„æŒ‰ç…§ã€Šäº”å¤§æ´²å‘ç—…ç‡ã€‹æ”¶å½•æ•°æ®å®¡æ ¸æ ‡å‡†å¯¹æ²³å—çœå„ç™»è®°å¤„æ‹Ÿä¸ŠæŠ¥å¹´ä»½èŒƒå›´çš„æ•°æ®è´¨é‡è¿›è¡Œäº†å›¾å½¢åŒ–å±•ç¤ºï¼Œå„ç™»è®°å¤„å¯æ ¹æ®å®¡æ ¸ç»“æœå®Œå–„æ ¸å®æœ¬ç™»è®°å¤„æ•°æ®ï¼\n\n>æœ¬ç»“æœåˆ†å¦‚ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š\n\n>1. åŸºæœ¬æƒ…å†µä»‹ç» \n>1. äººå£æ•°æ®å®¡æ ¸\n>1. æ€»ä½“ç™Œç—‡å‘ç—…æ­»äº¡æƒ…å†µ\n>1. ä¸»è¦éƒ¨ä½ç™Œç—‡å‘ç—…æ­»äº¡æƒ…å†µ\n>1. å¹´é¾„åˆ«ç‡\n>1. å„¿ç«¥è‚¿ç˜¤å‘ç—…ç‡/æ­»äº¡ç‡\n>1. ä¸»è¦è´¨é‡æ§åˆ¶æŒ‡æ ‡æƒ…å†µ(ç™»è®°ç™Œç§æ•°ã€MV%ã€M:Iã€DCO%)\n\n# äººå£æ•°æ®å®¡æ ¸\n\n>äººå£æ•°æ®è´¨é‡å¯¹äºè‚¿ç˜¤ç™»è®°æ•°æ®è´¨é‡è‡³å…³é‡è¦ï¼Œæœ¬ç¨‹åºå¯¹äºäººå£æ•°æ®çš„å®¡æ ¸ä»**äººå£æ€»æ•°**ã€**äººå£æ€§åˆ«æ¯”ä¾‹**ã€ä»¥>åŠ**äººå£é‡‘å­—å¡”**ç­‰ä¸‰ä¸ªæ–¹é¢è¿›è¡Œã€‚\n\n## äººå£æ€»æ•°å˜åŒ–æƒ…å†µ\n\n```\n\n## Cancer Incidence in Five Continents-IARC\n\n\n::: {.cell}\n<iframe src=\"https://www.chenq.site/slides/2023-5-16-canreg-report/example.html\" width=\"960\" height=\"600px\" data-external=\"1\"></iframe>\n:::\n\n\n## Cancer Incidence in Five Continents-IARC\n\n### æŠ¥å‘Šè¾“å‡ºçš„æ‰¹é‡åŒ–\n\n\n::: {.cell}\n\n```{.r .cell-code}\n###äº”å¤§æ´²æ•°æ®å®¡æ ¸ç¨‹åº#\nlibrary(dplyr)\nlibrary(RODBC)\nstate.name<-c(\"å¼€å°å¸‚ç¥¥ç¬¦åŒº\",\"æ´›é˜³å¸‚åŸåŒº\",\"å­Ÿæ´¥å¿\",\"æ–°å®‰å¿\",\"æ ¾å·å¿\",\"åµ©å¿\",\"æ±é˜³å¿\",\n              \"å®œé˜³å¿\",\"åƒå¸ˆå¸‚\",\"é²å±±å¿\",\"æ—å·å¸‚\",\"é¹¤å£å¸‚åŸåŒº\",\"è¾‰å¿å¸‚\",\"æ¿®é˜³å¸‚åé¾™åŒº\",\n              \"æ¿®é˜³å¿\",\"æ¼¯æ²³å¸‚éƒ¾åŸåŒº\",\"æ¼¯æ²³å¸‚å¬é™µåŒº\",\"æ¼¯æ²³å¸‚æºæ±‡åŒº\",\"ä¸‰é—¨å³¡å¸‚æ¹–æ»¨åŒº\",\"æ–¹åŸå¿\",\n              \"å†…ä¹¡å¿\",\"ç¢å¿\",\"è™åŸå¿\",\"ç½—å±±å¿\",\"æ²ˆä¸˜å¿\",\"éƒ¸åŸå¿\",\"è¥¿å¹³å¿\",\"æµæºå¸‚\")\n\ndb<-file.path(\"../create_report/Codedata/code.mdb\") \nchannel<-odbcConnectAccess2007(db)\ndata<-sqlFetch(channel,\"registry\")\ndata1<-data%>%filter(!(is.na(CI512)))\n\nreport<-haven::read_sas(\"../create_report/tmpdata/report.sas7bdat\")\npro<-report%>%filter(name %in% c(\"å…¨çœ\"))\nreport<-report%>%filter((name %in% state.name))\nregistry<- report%>%\n  select(areacode,name)%>%\n  filter(!(substr(areacode,1,1)==\"9\"))%>%\n  distinct(.keep_all = TRUE)\n\nfor (state in state.name) {\n  areacode<-registry[registry$name==state,c(\"areacode\")]$areacode\n  dir.create(paste0(\"./Output/CI5check/\",areacode,state))\n  rmarkdown::render(\n    input = './Rmd_template/CI5check.Rmd',\n    output_file = 'index.html',\n    output_dir = paste0(\"./Output/CI5check/\",areacode,state)\n  )\n}\n```\n:::\n\n\n## Cancer Incidence in Five Continents-IARC\n\n### æŠ¥å‘Šè¾“å‡ºçš„æ‰¹é‡åŒ–\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/list.png){width=517}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/list2.png){width=716}\n:::\n:::\n\n\n:::\n\n::::\n\n\n## åŸºäºbookdownæ’°å†™ã€Šè‚¿ç˜¤ç™»è®°å¹´æŠ¥ã€‹\n\n### _bookdown.yml\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbook_filename: bookdown\nclean: [packages.bib, bookdown.bbl]\ndelete_merged_file: true\nnew_session: true\nlanguage:\n  label:\n    fig: \"å›¾ \"\n    tab: \"è¡¨ \"\n  ui:\n    edit: \"ç¼–è¾‘\"\n    chapter_name: [\"ç¬¬ \", \" ç« \"]\n```\n:::\n\n\n## åŸºäºbookdownæ’°å†™ã€Šè‚¿ç˜¤ç™»è®°å¹´æŠ¥ã€‹\n\n### _output.yml\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbookdown::gitbook:\n  css: css/style.css\n  config:\n    toc:\n      collapse: none\n      before: |\n        <li><a href=\"./\">2021æ²³å—çœè‚¿ç˜¤ç™»è®°å¹´æŠ¥</a></li>\n      after: |\n        <li><a href=\"https://chenq.site\" target=\"blank\">Qiong Chen</a></li>\n    search: yes\n    sharing:\n      github: yes\n      weibo: yes\nbookdown::markdown_document2:\n  base_format: officedown::rdocx_document\n  lists:\n    ol.style: Default ol\n    ul.style: Default ul\n  tables:\n    conditional:\n      first_row: true\n      first_column: true\n      last_row: false\n      last_column: false\n      no_hband: false\n      no_vband: true\n```\n:::\n\n\n## åŸºäºbookdownæ’°å†™ã€Šè‚¿ç˜¤ç™»è®°å¹´æŠ¥ã€‹\n### yamlå…ƒæ•°æ®\n\n```yaml\n--- \ntitle: \"2022æ²³å—çœè‚¿ç˜¤ç™»è®°å¹´æŠ¥\"\nauthor: \"ä¸»ç¼– å¼ å»ºåŠŸ å¼ éŸ¶å‡¯\"\ndate: 2022-4-1\noutput:\n  html_document:\n    df_print: paged\n  bookdown::word_document2: \n    toc: yes\n    reference_docx: \"./data/format.docx\"\n  pdf_document: default\nalways_allow_html: yes\nbibliography:\n- book.bib\n- packages.bib\ndescription: æ²³å—çœè‚¿ç˜¤ç™»è®°å¹´æŠ¥\ndocumentclass: ctexbook\ncolorlinks: yes\nsite: bookdown::bookdown_site\nbiblio-style: apalike\n---\n```\n\n## åŸºäºbookdownæ’°å†™ã€Šè‚¿ç˜¤ç™»è®°å¹´æŠ¥ã€‹\n### æŠ¥å‘Šæ–‡æœ¬æ’°å†™\n\n\n\n:::: {.columns}\n\n::: {.column width=\"30%\"}\n\n- index.Rmd\n- 01summary.Rmd\n- 02-method.Rmd\n- 03-quality.Rmd\n- 04-total_cancer.Rmd\n- 05-eachsite.Rmd\n\n:::\n\n::: {.column width=\"70%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/page.jpg){width=749}\n:::\n:::\n\n\n:::\n\n::::\n\n## åŸºäºbookdownæ’°å†™ã€Šè‚¿ç˜¤ç™»è®°å¹´æŠ¥ã€‹\n### å›¾è¡¨æ‰¹é‡ç”Ÿæˆ\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#####\n# å¹´åº¦æ•°æ®å®¡æ ¸##\n#####\n\nlibrary(dplyr)\nlibrary(reshape2)\nrequire(ggplot2)\nlibrary(ggsci)\nlibrary(cowplot)\nlibrary(stringr)\nlibrary(ggpubr)\nlibrary(extrafont)\n#font_import() # å¯¼å…¥ç³»ç»Ÿä¸­å·²ç»å®‰è£…çš„å­—ä½“ï¼ŒåŒ…æ‹¬ä¸­æ–‡å­—ä½“\n# æ¢å¤é»˜è®¤çš„ä¸»é¢˜è®¾ç½®\nloadfonts() # åŠ è½½å·²ç»å¯¼å…¥çš„å­—ä½“\n#font <- \"SimHei\" # æŒ‡å®šä¸­æ–‡å­—ä½“ï¼Œè¿™é‡Œä½¿ç”¨é»‘ä½“ï¼ˆSimHeiï¼‰\ntheme_set(theme_bw(base_family = \"STKaiti\"))\n\n\n\n####\n#ç”Ÿæˆç¬¬äº”ç« å„ç™Œç§å¹´é¾„åˆ«ç‡å›¾#\n###\n\nage_specific_rate <- report%>%\n  filter(city==\"33\",code>=101&code<=122|code==62)%>%\n  select(areacode,sex,code,icd,by,i0:i85,d0:d85)%>%\n  melt(id.vars=c(\"areacode\",\"sex\",\"code\",\"icd\",\"by\"),\n       variable.name = \"type\",\n       value.name=\"rate\") %>%\n  mutate(order=code-100,\n         age=as.numeric(ifelse(substr(type,1,1)==\"i\",gsub(\"i\",\"\",type),gsub(\"d\",\"\",type))),\n         type=ifelse(substr(type,1,1)==\"i\",\"incidence\",\"mortality\"))\n\nage_specific_rate2<-age_specific_rate%>%\n  filter(code==62)%>%\n  mutate(sex=ifelse(areacode==\"510000\",paste0(\"åŸå¸‚\",sex),\n                    ifelse(areacode==\"520000\",paste0(\"å†œæ‘\",sex),sex)))%>%\n  filter(!(areacode==\"500000\"))%>%\n  mutate(areacode=\"530000\")\n\n\nage_specific_rate<-age_specific_rate%>%\n  filter(!((code %in% 112:115)&(sex %in% c(\"åˆè®¡\",\"ç”·æ€§\"))),!(code==116&sex%in%c(\"åˆè®¡\",\"å¥³æ€§\")))\n\nAge_specific_rate<-rbind(age_specific_rate,age_specific_rate2)%>%\n  mutate(order=ifelse(order==-38,0,order))%>%\n  filter(!(sex %in% c(\"åŸå¸‚åˆè®¡\",\"å†œæ‘åˆè®¡\")))\n\n\nfor (i in 0:22){\n  plot <- Age_specific_rate[Age_specific_rate$order==i,]\n  if (i %in% c(12:16)){\n    ct <- plot%>%mutate(areacode=factor(areacode,labels =c(\"å…¨çœ\",\"åŸå¸‚\",\"å†œæ‘\")))%>%group_by(type)%>%group_split()\n  } else {\n    ct <- plot%>%group_by(type,areacode)%>%group_split()\n  }\n\n  icd<-plot[1,c(\"icd\")]\n\n  p<- lapply(ct,function(x) {\n    type<-x[1,c(\"type\")]\n    if (i %in% c(12:16)){\n      p<-ggplot(x,aes(x=age,y=rate,group=areacode))+geom_line(aes(colour=areacode),size=1.2)\n    } else {\n      p<-ggplot(x,aes(x=age,y=rate,group=sex))+geom_line(aes(colour=sex),size=1.2)\n    }\n    p<-p+scale_x_continuous(breaks = c(0,10,20,30,40,50,60,70,80))+\n      theme_classic()+\n      xlab(\"å¹´é¾„(å²)\")+\n      ylab(ifelse(type==\"incidence\",expression(paste(\"å¹´é¾„åˆ«å‘ç—…ç‡ï¼ˆ1/\", 10^5,\")\")),expression(paste(\"å¹´é¾„åˆ«æ­»äº¡ç‡ï¼ˆ1/\", 10^5,\")\"))))+\n      scale_color_lancet()+\n      theme(\n        text=element_text(family = \"STKaiti\"),\n        legend.position=c(0.2,0.8),\n        legend.title=element_blank(),\n        axis.text = element_text(face=\"bold\"),\n        axis.title.y = element_text(face=\"bold\"),\n        axis.line=element_line(size=0.5,colour=\"black\"),\n        axis.ticks = element_line(size=0.5,colour=\"black\"))\n\n  })\n\n  if (i==0){\n    p_com1<-plot_grid(p[[1]],p[[2]],p[[3]],p[[4]],labels=c(\"å…¨çœ\",\"åŸå¸‚\",\"å†œæ‘\",\"åŸå¸‚å’Œå†œæ‘\"),label_size=13,label_x=0.35,align=\"hv\",ncol=2,nrow=2,byrow=TRUE)\n    p_com2<-plot_grid(p[[5]],p[[6]],p[[7]],p[[8]],labels=c(\"å…¨çœ\",\"åŸå¸‚\",\"å†œæ‘\",\"åŸå¸‚å’Œå†œæ‘\"),label_size=13,label_x=0.35,align=\"hv\",ncol=2,nrow=2,byrow=TRUE)\n    loca2 <- paste(\"./images/Chapter4-\",\"2.png\",sep=\"\")\n    loca3 <- paste(\"./images/Chapter4-\",\"6.png\",sep=\"\")\n    ggsave(loca2,p_com1,width=8,height=6.6,device=\"png\")\n    ggsave(loca3,p_com2,width=8,height=6.6,device=\"png\")\n  } else if(i %in% c(12:16)){\n    p_comx<-plot_grid(p[[1]],p[[2]],labels=c(\"å‘ç—…\",\"æ­»äº¡\"), lable_size=13,label_x=0.35,ncol=2,nrow=1,align=\"hv\")\n    loca <- paste(\"./images/Chapter5-\",i,\"-1.png\",sep=\"\")\n    ggsave(loca,p_comx,width=8,height=3.3,device=\"png\")\n  }\n  else {\n    p_com<-plot_grid(p[[1]],p[[4]],p[[2]],p[[5]],p[[3]],p[[6]],labels=c(\"å…¨çœ å‘ç—…\",\"å…¨çœ æ­»äº¡\",\"åŸå¸‚ å‘ç—…\",\"åŸå¸‚ æ­»äº¡\",\"å†œæ‘ å‘ç—…\",\"å†œæ‘ æ­»äº¡\"),label_size=13,label_x=0.35,align=\"hv\",ncol=2,nrow=3,byrow=TRUE)\n    #p_com<-add_sub(p_com, paste(\"ICD10:\",icd),x=0.07, y=0,vjust=0,hjust=0)\n    loca <- paste(\"./images/Chapter5-\",i,\"-1.png\",sep=\"\")\n    ggsave(loca,p_com,width=8,height=10,device=\"png\")\n  }\n}\n\n####\n#ç”Ÿæˆç¬¬äº”ç« å„ç™Œç§ä¸åŒåœ°åŒºå‘ç—…ç‡å’Œæ­»äº¡ç‡é¡ºä½å›¾#\n####\n\narea_rate <- report%>%\n  filter(!(city==\"33\"),code>=101&code<=122)%>%\n  select(areacode,city,name,sex,code,icd,by,ics2000,dcs2000)%>%\n  melt(id.vars=c(\"areacode\",\"city\",\"name\",\"sex\",\"code\",\"icd\",\"by\"),\n       variable.name = \"type\",\n       value.name=\"rate\") %>%\n  mutate(order=code-100,\n         city=ifelse(city==11,1,city),\n         type=ifelse(type==\"ics2000\",\"å‘ç—…ç‡\",\"æ­»äº¡ç‡\"),\n         rate=ifelse(sex==\"ç”·æ€§\",-rate,rate),\n         )%>%\n  filter(!((code %in% 112:115)& sex %in% c(\"åˆè®¡\",\"ç”·æ€§\")),\n         !(code==116&sex%in%c(\"åˆè®¡\",\"å¥³æ€§\")))\n\n#è‡ªå®šä¹‰ä¸»é¢˜\ntheme_nb <- function(..., bg='white'){\n  theme_classic(...) +\n    theme(\n      text=element_text(family = \"STKaiti\"),\n      legend.position=c(0.7,0.1),\n      legend.title=element_blank(),\n      axis.line.y=element_blank(),\n      axis.title.y =element_blank(),\n      axis.ticks.y = element_blank(),\n      axis.text.x = element_text(size=12),\n      axis.text.y = element_text(size=12),\n      legend.text = element_text(size=12),\n      axis.title.x =element_text(face=\"bold\",size=14))\n}\n\nfor (i in c(1:22)){\n  plot <- area_rate[area_rate$order==i,]\n  ct <- plot%>%group_by(city)%>%group_split()\n\n  icd<-plot[1,c(\"icd\")]\n\n  if (i %in% c(1:11,17:22)) {\n    p<- lapply(ct,function(x) {\n      top_value <-  max(abs(x$rate))\n\n      xx <-x%>%filter(sex==\"å¥³æ€§\")%>%\n        arrange(type,rate)%>%\n        mutate(name=factor(name,unique(name)),type=factor(type,levels=c(\"æ­»äº¡ç‡\",\"å‘ç—…ç‡\")))\n      p2<-ggplot(data=xx,aes(y=name))+\n        geom_bar(aes(x=rate,fill=factor(type)),stat = \"identity\",position = \"dodge\")+\n        scale_fill_manual(values=c('#e31a1c','#4169E1'))+\n        scale_x_continuous(position = \"top\",limits=c(0,top_value))+\n        xlab(expression(paste(\"å¥³æ€§ç‡ï¼ˆ1/\", 10^5,\"ï¼‰\")))+\n        scale_y_discrete(position = \"right\")+\n        theme_nb()\n\n      xx <-x%>%filter(sex==\"ç”·æ€§\")%>%mutate(rate2=abs(rate))%>%arrange(type,rate2)%>%mutate(name=factor(name,unique(name)),type=factor(type,levels=c(\"æ­»äº¡ç‡\",\"å‘ç—…ç‡\")))\n      p1<-ggplot(data=xx,aes(x=name))+\n        geom_bar(aes(y=rate,fill=factor(type)),stat = \"identity\",position = \"dodge\")+\n        scale_fill_manual(values=c('#e31a1c','#4169E1'))+\n        scale_y_continuous(position = \"right\",limits=c(-top_value,0),labels=abs)+\n        ylab(expression(paste(\"ç”·æ€§ç‡ï¼ˆ1/\", 10^5,\"ï¼‰\")))+\n        coord_flip()+\n        theme_nb()+\n        theme(legend.position=\"none\")\n      p3<-plot_grid(p1,p2,labels=c(\"\",\"\"),ncol=2)\n      return(p3)\n    })\n\n  } else {\n    #åˆ¶ä½œå•æ€§åˆ«ç™Œç§å›¾\n    p<- lapply(ct,function(x) {\n      top_value <-  max(abs(x$rate))\n      xx <-x%>%mutate(rate2=abs(rate))%>%arrange(type,rate2)%>%mutate(name=factor(name,unique(name)),type=factor(type,levels=c(\"æ­»äº¡ç‡\",\"å‘ç—…ç‡\")))\n      px<-ggplot(data=xx,mapping = aes(y=name))+\n        geom_bar(mapping=aes(x=rate2,fill=factor(type)),stat = \"identity\",position = \"dodge\")+\n        scale_fill_manual(values=c('#e31a1c','#4169E1'))+\n        scale_x_continuous(position = \"top\",limits=c(0,top_value))+\n        scale_y_discrete(position = \"left\")+\n        xlab(expression(paste(\"ä¸­æ ‡ç‡ï¼ˆ1/\", 10^5,\"ï¼‰\")))+\n        theme_nb()\n      return(px)\n    })\n  }\n\n  loca2 <- paste(\"./images/Chapter5-\",i,\"-2.png\",sep=\"\")\n  loca3 <- paste(\"./images/Chapter5-\",i,\"-3.png\",sep=\"\")\n  ggsave(loca2,p[[1]],width=8,height=4,device=\"png\")\n  ggsave(loca3,p[[2]],width=8,height=10,device=\"png\")\n}\n\n\n\n####\n#ç”Ÿæˆç¬¬å››ç«  å‰10è‚¿ç˜¤ é¡ºä½åŠæ„æˆå›¾#\n####\n\nt1 <- report%>%\n  filter( city==\"33\",code>=101&code<=122)%>%\n  select(areacode,name,sex,code,icd,by,ihj,fcon)%>%\n  mutate(type=\"incidence\")%>%\n  rename(rate=ihj,constitute=fcon)\n\nt2 <- report%>%\n  filter( city==\"33\",code>=101&code<=122)%>%\n  select(areacode,name,sex,code,icd,by,dhj,scon)%>%\n  mutate(type=\"mortality\")%>%\n  rename(rate=dhj,constitute=scon)\n\ntotal_rank<-rbind(t1,t2)%>%\n  mutate(by=ifelse(code==110,\"è‚º\",\n                   ifelse(code==119,\"è„‘\",\n                          ifelse(code==105,\"ç»“ç›´è‚ \",\n                                 ifelse(code==107,\"èƒ†å›Š\",\n                                        ifelse(code==117,\"è‚¾\",\n                                               ifelse(code==121,\"æ·‹å·´ç˜¤\",by)))))),\n         cate=paste0(by,\"(\",icd,\")\"),\n         cate=ifelse(code==121,\"æ·‹å·´ç˜¤\",cate),\n         sex=factor(sex,levels=c(\"åˆè®¡\",\"ç”·æ€§\",\"å¥³æ€§\"),labels=c(\"åˆè®¡\",\"ç”·æ€§\",\"å¥³æ€§\")))\n\n\nmycolor<- c('#1f78b4','#a6cee3','#33a02c','#b2df8a','#e31a1c','#fb9a99','#ff7f00','#fdbf6f','#6a3d9a','#cab2d6','#ffff99')\n\nfor (i in c(\"incidence\",\"mortality\")) {\n  for (j in c(\"å…¨çœ\",\"åŸå¸‚åœ°åŒº\",\"å†œæ‘åœ°åŒº\")) {\n    plot <- total_rank[total_rank$type==i & total_rank$name==j,]\n    ct <- plot%>%group_by(sex)%>%group_split()\n    p<- lapply(ct,function(x) {\n\n      xx <-x%>%arrange(rate)%>%mutate(cate=factor(cate,unique(cate)))%>%slice(13:22)\n      yy<-ggplot(xx,aes(y=cate))+geom_bar(aes(x=rate),fill=ifelse(i==\"incidence\",\"#1f78b4\",\"#e31a1c\"),stat = \"identity\")+theme_void()+\n        scale_x_continuous(position = \"top\")+\n        xlab(ifelse(i==\"incidence\",expression(paste(\"å‘ç—…ç‡ï¼ˆ1/\", 10^5,\")\")),expression(paste(\"æ­»äº¡ç‡ï¼ˆ1/\", 10^5,\")\"))))+\n        scale_y_discrete(position = \"left\",labels=function(x) str_wrap(x, width=20))+\n        theme(\n          #plot.background = element_rect(fill=\"white\",color=\"white\"),\n          text=element_text(family = \"STKaiti\"),\n          axis.text.x = element_text(size=9),\n          axis.text.y = element_text(size=9),\n          axis.line.y=element_blank(),\n          axis.title.y =element_blank(),\n          axis.title.x =element_text(face=\"bold\",size=12),\n          axis.ticks.y = element_blank()\n        )\n\n      xx <-xx%>%arrange(desc(constitute))%>%mutate(cate=factor(cate,unique(cate)))\n      xx2<-xx%>%mutate(constitute=round(100-sum(constitute),2))%>%\n        distinct(areacode,name,sex,constitute,type)%>%\n        mutate(cate=\"å…¶å®ƒ\",code=62,by=\"å…¶å®ƒ\",rate=50,icd=\"other\")\n      xx<-rbind(xx,xx2)\n\n      zz <- ggplot(xx,aes(x=\"\",y=constitute,fill=cate))+\n        geom_bar(width=1,stat=\"identity\",color=\"white\")+\n        coord_polar(\"y\",start=0)+\n        theme_void()+\n        scale_fill_manual(values= mycolor)+\n        #geom_text(aes(x=1.2,label=as.character(constitute)),position = position_stack(vjust=0.5),size=2)+\n        theme(\n          #plot.background = element_rect(fill=\"white\",color=\"white\"),\n          text=element_text(family = \"STKaiti\"),\n          legend.title=element_blank(),\n          legend.text = element_text(size = 9),\n          legend.position =\"right\",\n          legend.direction = \"vertical\",\n          axis.title.x = element_blank(),\n          axis.title.y = element_blank(),\n          panel.border = element_blank(),\n          panel.grid=element_blank(),\n          plot.margin = unit(c(0,1,0,0), \"lines\"),\n          axis.ticks = element_blank(),\n          plot.title=element_text(size=14, face=\"bold\")\n        )\n\n      com1<-plot_grid(yy,zz,ncol=2,labels=c(\"\",\"æ„æˆ\"),label_x=0.2,label_y=0.2,label_size=12,rel_widths=c(1,1))\n      return(com1)\n    })\n\n    pp<-plot_grid(p[[1]],p[[2]],p[[3]],ncol=1,labels=c(\"åˆè®¡\",\"ç”·æ€§\",\"å¥³æ€§\"),label_size=13,label_x=0.45,align=\"hv\")\n\n    kk<- ifelse(i==\"incidence\" & j==\"å…¨çœ\",3,\n                ifelse(i==\"incidence\" & j==\"åŸå¸‚åœ°åŒº\",4,\n                       ifelse(i==\"incidence\" & j==\"å†œæ‘åœ°åŒº\",5,\n                              ifelse(i==\"mortality\" & j==\"å…¨çœ\",7,\n                                     ifelse(i==\"mortality\" & j==\"åŸå¸‚åœ°åŒº\",8,\n                                            ifelse(i==\"mortality\" & j==\"å†œæ‘åœ°åŒº\",9,))))))\n\n    loca2 <- paste(\"./images/Chapter4-\",kk,\".png\",sep=\"\")\n    ggsave(loca2,pp,width=6,height=8,device = \"png\")\n\n  }}\n```\n:::\n\n\n## åŸºäºbookdownæ’°å†™ã€Šè‚¿ç˜¤ç™»è®°å¹´æŠ¥ã€‹\n### å›¾è¡¨æ‰¹é‡ç”Ÿæˆ\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](images/pics.jpg){width=1123}\n:::\n:::\n\n\n## åŸºäºbookdownæ’°å†™ã€Šè‚¿ç˜¤ç™»è®°å¹´æŠ¥ã€‹\n\n\n::: {.cell}\n<iframe src=\"https://www.chenq.site/report/2021/\" width=\"960\" height=\"400px\" data-external=\"1\"></iframe>\n:::\n\n\n\n## å­¦ä¹ èµ„æº\n\n- [R Markdown](https://rmarkdown.rstudio.com)\n- [bookdown](https://bookdown.org/yihui/bookdown/)\n- [Quartoå®˜ç½‘](https://quarto.org)\n- [Github: Awesome-quarto](https://github.com/mcanouil/awesome-quarto)\n- [Revealjs slides](https://rstudio-conf-2022.github.io/get-started-quarto/materials/05-presentations.html#/presentations)\n- [ç»Ÿè®¡ä¹‹éƒ½](https://cosx.org/)\n\n# è°¢ è°¢ å…³ æ³¨ ! {background-color=\"lightblue\"}\n\né™ˆ ç¼\n\nchenq08@126.com\n\n\n{{< qrcode https://www.chenq.site/qsight qr2 width=60 height=60 colorDark='#0011bb' >}}\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}