<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html-68b329da9893e34099c7d8ad5cb9c940.min.css" rel="stylesheet" append-hash="true" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-79bb3942e891885f9f7af119cd221462.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/quarto-contrib/reveal-header-1.0.0/add_header.js" defer="true"></script>
<link href="../site_libs/quarto-contrib/reveal-header-1.0.0/add_header.css" rel="stylesheet">
<script src="../site_libs/quarto-contrib/sc-sb-title-1.0.0/sc_sb_title.js" defer="true"></script>
<link href="../site_libs/quarto-contrib/grid-no-htext-1.0.0/grid_no_htext.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/reveal-auto-agenda-0.0.3/reveal-auto-agenda.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.9">

  <meta name="author" content="Ô∏èQiong Chenüë®‚Äç‚öïÔ∏è Phd.">
  <title>ÊôÆÁôåÊñ∞Â£∞ ‚Äì Canregtools</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-2e34f1876057a9fdd171e1a563180e8c.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-attribution/attribution.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<meta property="og:title" content="Canregtools ‚Äì ÊôÆÁôåÊñ∞Â£∞">
<meta property="og:description" content="An R package used in PBCRs">
<meta property="og:site_name" content="ÊôÆÁôåÊñ∞Â£∞">
<meta name="twitter:title" content="Canregtools ‚Äì ÊôÆÁôåÊñ∞Â£∞">
<meta name="twitter:description" content="An R package used in PBCRs">
<meta name="twitter:card" content="summary">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="lightblue" class="quarto-title-block center">
  <h1 class="title">Canregtools</h1>
  <p class="subtitle">An R package used in PBCRs</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Ô∏èQiong Chenüë®‚Äç‚öïÔ∏è Phd. 
</div>
        <p class="quarto-title-affiliation">
            üè•Henan Cancer Center
          </p>
    </div>
</div>

  <p class="date">Monday Nov 4, 2024</p>
</section>
<section id="what-we-actually-do-in-pbcr" class="slide level2 smaller">
<h2>What we actually do in PBCR</h2>
<blockquote>
<p>A system designed to collect, store, and manage cancer cases within a population, which is crucial for monitoring cancer incidence, mortality, survival, and prevalence.</p>
</blockquote>
<ul>
<li>Data internal consistency check</li>
<li>Quality check (CI5, annual check of quality control for registry)</li>
<li>Calculation of statistical indicator</li>
<li>Data visualization</li>
<li>Reports</li>
</ul>
</section>
<section id="which-tools-are-available" class="slide level2">
<h2>Which tools are available ?</h2>
<ul>
<li>IARCcrgTools</li>
<li>JRC tools</li>
<li>Canreg5</li>
<li>SEER*Stat</li>
</ul>
<p>Other software or language including R, SAS, STATA, Python</p>
</section>
<section id="what-can-canregtools-do" class="slide level2">
<h2>What can canregtools do ?</h2>
<blockquote>
<p>Canregtools is an R package developed to streamline data analysis, visualization, and reporting in cancer registration. It includes five sets of R functions that cover data reading, processing, statistical calculations, visualization, and reporting.</p>
</blockquote>
<div class="columns">
<div class="column" style="width:33%;">
<h4 id="data-processing">Data processing</h4>
<ul>
<li>cutage()</li>
<li>expand_age_pop()</li>
<li>classify_icd10()</li>
<li>classify-childhood()</li>
<li>tidy_*()</li>
<li>write_*()</li>
</ul>
</div><div class="column" style="width:33%;">
<h4 id="statistics-calculation">Statistics calculation</h4>
<ul>
<li>ageadjust()</li>
<li>truncrate()</li>
<li>cumrate()</li>
<li>cumrisk()</li>
<li>lt()</li>
<li>expand_lifetable()</li>
</ul>
</div><div class="column" style="width:33%;">
<h4 id="statistics-sheet">Statistics sheet</h4>
<ul>
<li>summary()</li>
<li>create_asr()</li>
<li>create_quality()</li>
<li>create_age_rate()</li>
<li>create_sheet()</li>
</ul>
</div></div>
</section>
<section id="what-can-canregtools-do-1" class="slide level2">
<h2>What can canregtools do ?</h2>
<blockquote>
<p>Canregtools is a tool designed for high-level cancer registries. It helps process data from multiple registries in batch mode, allowing users to filter data based on custom conditions and reformat or merge cancer registration data according to registry attributes.</p>
</blockquote>
<div class="columns">
<div class="column" style="width:33%;">
<h4 id="registry-attributes">Registry attributes</h4>
<ul>
<li>write_registry()</li>
<li>write_areacode()</li>
<li>write_area_type()</li>
<li>tidy_areacode()</li>
</ul>
</div><div class="column" style="width:33%;">
<h4 id="filtermerge-object">Filter/merge object</h4>
<ul>
<li>cr_select()</li>
<li>cr_merge()</li>
<li>reframe_fbswicd()</li>
</ul>
</div><div class="column" style="width:33%;">
<h4 id="statistics-sheet-1">Statistics sheet</h4>
<ul>
<li>summary()</li>
<li>create_asr()</li>
<li>create_quality()</li>
<li>create_age_rate()</li>
<li>create_sheet()</li>
</ul>
</div></div>
</section>
<section id="define-s3-class-for-generic-functions" class="slide level2">
<h2>Define S3 class for generic functions</h2>
<blockquote>
<p>We define a set of class for different methods to carry out different functions.</p>
</blockquote>
<div class="columns">
<div class="column" style="width:50%;">
<h4 id="s3-class-for-single-registry">S3 class for single registry</h4>
<ul>
<li>canreg</li>
<li>fbswicd</li>
<li>asr</li>
<li>quality</li>
</ul>
</div><div class="column" style="width:50%;">
<h4 id="s3-class-for-multiple-registries">S3 class for multiple registries</h4>
<ul>
<li>canregs</li>
<li>fbswicds</li>
<li>asrs</li>
<li>qualities</li>
</ul>
</div></div>
<h4 id="s3-method">S3 method</h4>
<p>create_asr, create_quality, create_age_rate, create_sheet, cr_select, cr_merge, reframe_fbswicd</p>
</section>
<section id="internal-consistency-check" class="slide level2">
<h2>Internal consistency check</h2>
<blockquote>
<p>Internal consistency checks are a crucial step before conducting data analysis. We need to identify and address any impossible or unlikely combinations of variables to insure the data validity.</p>
</blockquote>
<div class="columns">
<div class="column" style="width:33%;">
<h4 id="variable">Variable</h4>
<ul>
<li>check_topo()</li>
<li>check_morp()</li>
<li>check_icd10()</li>
<li>check_areacode()</li>
<li>check_sex()</li>
<li>check_id()</li>
</ul>
</div><div class="column" style="width:33%;">
<h4 id="variables-combination">Variables combination</h4>
<ul>
<li>check_sex_morp()</li>
<li>check_sex_topo()</li>
<li>check_topo_morp()</li>
<li>check_morp_beha()</li>
<li>check_morp_grad()</li>
<li>check_age_topo_morp()</li>
</ul>
</div><div class="column" style="width:33%;">
<h4 id="format">Format</h4>
<ul>
<li>check_header()</li>
<li>check_followup()</li>
<li>ICDO3toICD10()</li>
</ul>
</div></div>
</section>
<section id="how-to-install" class="slide level2">
<h2>How to install</h2>
<ul>
<li><a href="https://cloud.r-project.org">Downlaod R (Rhttps://cloud.r-project.org)</a></li>
<li><a href="https://posit.co/download/rstudio-desktop/">Download Rstudio(https://posit.co/download/rstudio-desktop/)</a></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/R.jpg"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/RStudio.jpg"></p>
</div></div>
</section>
<section id="how-to-install-1" class="slide level2">
<h2>How to install</h2>
<p>Install it from github repository</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="co"># install the remotes package if doesn't installed</span></span>
<span id="cb1-2"><a></a><span class="fu">install.packages</span>(<span class="st">"remotes) </span></span>
<span id="cb1-3"><a></a><span class="st">library(remotes)</span></span>
<span id="cb1-4"><a></a><span class="st">install_github("</span>gigu003<span class="sc">/</span>canregtools<span class="st">")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Install it from compiled local source package file</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="co"># install the remotes package if doesn't installed</span></span>
<span id="cb2-2"><a></a><span class="fu">install.packages</span>(<span class="st">"remotes) </span></span>
<span id="cb2-3"><a></a><span class="st">library(remotes)</span></span>
<span id="cb2-4"><a></a><span class="st">install_local("</span>canregtools_0.<span class="dv">2</span>.<span class="fl">7.</span>tar.gz<span class="st">", type = "</span>source<span class="st">")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section>
<section id="single-cancer-registry" class="title-slide slide level1 agenda-slide center">
<h1>Single cancer registry</h1>
<div class="agenda-heading">
<p>Contents</p>
</div>
<div class="agenda">
<ol>
<li><div class="agenda-active">
<p>Single cancer registry</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Batch mode (deal with data from multiple cancer registries)</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Reframe fbsws</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Visualization</p>
</div></li>
</ol>
</div>
</section>
<section id="raw-datacall-for-data-from-ncc" class="slide level2">
<h2>Raw data(call for data from NCC)</h2>
<blockquote>
<p>The raw data is an Excel file with three sheets named <strong>FB</strong>, <strong>SW</strong>, and <strong>POP</strong>, which store incidence data, mortality data, and population data, respectively.</p>
</blockquote>
<div class="columns">
<div class="column" style="width:60%;">
<p><img data-src="images/call_for_data.jpg"></p>
</div><div class="column" style="width:30%;">
<p><img data-src="images/popu.jpg"></p>
</div></div>
</section>
<section id="reading-raw-data-to-canreg-data" class="slide level2">
<h2>Reading raw data to ‚Äòcanreg‚Äô data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a><span class="fu">library</span>(canregtools)</span>
<span id="cb3-2"><a></a><span class="fu">library</span>(dplyr)</span>
<span id="cb3-3"><a></a>files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">"~/website/slides/outputs"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-4"><a></a>file <span class="ot">&lt;-</span> files[<span class="dv">1</span>]</span>
<span id="cb3-5"><a></a>data <span class="ot">&lt;-</span> <span class="fu">read_canreg</span>(file)</span>
<span id="cb3-6"><a></a><span class="fu">class</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "canreg" "list"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a><span class="fu">names</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "areacode" "FBcases"  "SWcases"  "POP"     </code></pre>
</div>
</div>
</section>
<section id="canreg-object-with-class-of-canreg" class="slide level2 smaller">
<h2>canreg object with class of ‚Äòcanreg‚Äô</h2>
<blockquote>
<p>‚Äòcanreg‚Äô is a list contains four elements named ‚Äòareacode‚Äô, ‚ÄòFBcases‚Äô, ‚ÄòSWcases‚Äô, and ‚ÄòPOP‚Äô, which were read from ‚ÄúFB‚Äù, ‚ÄúSW‚Äù and ‚ÄúPOP‚Äù sheets of raw data.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a><span class="fu">names</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "areacode" "FBcases"  "SWcases"  "POP"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a>data<span class="sc">$</span>areacode</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "410102"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a><span class="fu">head</span>(data<span class="sc">$</span>FBcases)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 23
  registr         name  id    sex   birthda    address addcode trib  occu  marri
  &lt;chr&gt;           &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;date&gt;     &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
1 214105001664899 ËµµÊµ©‚Ä¶ 4105‚Ä¶ 1     1975-04-17 Ê≤≥ÂçóÁúÅ‚Ä¶ 410102‚Ä¶ 01    31    2    
2 214108021590500 ËåÉÊôì‚Ä¶ 3708‚Ä¶ 2     1991-01-16 Ê≤≥ÂçóÁúÅ‚Ä¶ 410102‚Ä¶ 01    14    2    
3 214101021723818 ËµµËéâ  4127‚Ä¶ 2     1962-10-15 Ê≤≥ÂçóÁúÅ‚Ä¶ 410102‚Ä¶ 01    00    2    
4 214112021234655 ÊùéÁßÄ‚Ä¶ 4112‚Ä¶ 2     1951-03-09 ‰∏ΩÂüéÂ∞è‚Ä¶ 410102‚Ä¶ 01    49    2    
5 214116241372902 ÂàòË¥µ‚Ä¶ 4101‚Ä¶ 1     1955-07-15 Ê≤≥ÂçóÁúÅ‚Ä¶ 410102‚Ä¶ 01    61    2    
6 234110021050453 ÊØõÊ†π‚Ä¶ 4110‚Ä¶ 1     1939-12-15 Ê≤≥ÂçóÁúÅ‚Ä¶ 410102‚Ä¶ 01    28    5    
# ‚Ñπ 13 more variables: inciden &lt;date&gt;, topo &lt;chr&gt;, morp &lt;chr&gt;, beha &lt;chr&gt;,
#   grad &lt;chr&gt;, basi &lt;chr&gt;, icd10 &lt;chr&gt;, autoicd10 &lt;chr&gt;, lastcontact &lt;dttm&gt;,
#   status &lt;chr&gt;, caus &lt;chr&gt;, deathda &lt;date&gt;, deadplace &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="canreg-object-with-class-of-canreg-1" class="slide level2 smaller">
<h2>canreg object with class of ‚Äòcanreg‚Äô</h2>
<blockquote>
<p>‚Äòcanreg‚Äô is a list contains four elements including ‚Äòareacode‚Äô, ‚ÄòFBcases‚Äô, ‚ÄòSWcases‚Äô, and ‚ÄòPOP‚Äô</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a><span class="fu">names</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "areacode" "FBcases"  "SWcases"  "POP"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a><span class="fu">head</span>(data<span class="sc">$</span>SWcases)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 23
  registr         name  id    sex   birthda    address addcode trib  occu  marri
  &lt;chr&gt;           &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;date&gt;     &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
1 174101001241467 ÁøüÁéâ‚Ä¶ 4101‚Ä¶ 2     1921-02-18 Ê≤≥ÂçóÁúÅ‚Ä¶ 410102‚Ä¶ 01    39    2    
2 184101001562256 ÁéãÂÜç‚Ä¶ 5106‚Ä¶ 1     1935-05-15 Ê≤≥ÂçóÁúÅ‚Ä¶ 410102‚Ä¶ 01    80    2    
3 184101001120018 Âº†ÁßÄ‚Ä¶ 4101‚Ä¶ 2     1941-02-16 ÈÉëÂ∑ûÂ∏Ç‚Ä¶ 410102‚Ä¶ 01    29    2    
4 184101001561642 ÊùéÈïø‚Ä¶ 4101‚Ä¶ 1     1952-07-06 Ê≤≥ÂçóÁúÅ‚Ä¶ 410102‚Ä¶ 01    90    2    
5 184101021600573 Ëë£Âª∫‚Ä¶ 4101‚Ä¶ 1     1947-08-21 Ê≤≥ÂçóÁúÅ‚Ä¶ 410102‚Ä¶ 01    85    2    
6 184101001119830 Â≠ôÂØå‚Ä¶ 4101‚Ä¶ 1     1941-08-16 Ê≤≥ÂçóÁúÅ‚Ä¶ 410102‚Ä¶ 01    29    2    
# ‚Ñπ 13 more variables: inciden &lt;date&gt;, topo &lt;chr&gt;, morp &lt;chr&gt;, beha &lt;chr&gt;,
#   grad &lt;chr&gt;, basi &lt;chr&gt;, icd10 &lt;chr&gt;, autoicd10 &lt;chr&gt;, lastcontact &lt;dttm&gt;,
#   status &lt;chr&gt;, caus &lt;chr&gt;, deathda &lt;date&gt;, deadplace &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="canreg-object-with-class-of-canreg-2" class="slide level2 smaller">
<h2>canreg object with class of ‚Äòcanreg‚Äô</h2>
<blockquote>
<p>‚Äòcanreg‚Äô is a list contains four elements including ‚Äòareacode‚Äô, ‚ÄòFBcases‚Äô, ‚ÄòSWcases‚Äô, and ‚ÄòPOP‚Äô</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a><span class="fu">names</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "areacode" "FBcases"  "SWcases"  "POP"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a><span class="fu">head</span>(data<span class="sc">$</span>POP)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 4
   year   sex agegrp   rks
  &lt;int&gt; &lt;int&gt; &lt;fct&gt;  &lt;int&gt;
1  2021     1 0~      3850
2  2021     1 1~     14405
3  2021     1 5~     15176
4  2021     1 10~    16227
5  2021     1 15~    18685
6  2021     1 20~    27799</code></pre>
</div>
</div>
</section>
<section id="counting-canreg-data-to-fbswicd-data" class="slide level2 smaller">
<h2>Counting ‚Äòcanreg‚Äô data to ‚Äòfbswicd‚Äô data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a>fbsw <span class="ot">&lt;-</span> <span class="fu">count_canreg</span>(data, <span class="at">cancer_type =</span> <span class="st">"big"</span>)</span>
<span id="cb21-2"><a></a><span class="fu">class</span>(fbsw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "fbswicd" "list"   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a><span class="fu">names</span>(fbsw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "areacode" "fbswicd"  "sitemorp" "pop"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a></a><span class="fu">head</span>(fbsw<span class="sc">$</span>fbswicd, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    year   sex agegrp cancer   fbs   sws    mv    ub   sub m8000   dco
   &lt;int&gt; &lt;int&gt; &lt;fctr&gt;  &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
1:  2021     1   0 Â≤Å      0     0     0     0     0     0     0     0
2:  2021     1   0 Â≤Å     60     3     0     2     1     1     1     0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a></a><span class="fu">head</span>(fbsw<span class="sc">$</span>sitemorp,<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    year   sex cancer               site              morp
   &lt;int&gt; &lt;int&gt;  &lt;int&gt;             &lt;list&gt;            &lt;list&gt;
1:  2021     1     NA &lt;data.frame[15x2]&gt; &lt;data.frame[8x2]&gt;
2:  2021     2    115  &lt;data.frame[3x2]&gt; &lt;data.frame[9x2]&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a></a><span class="fu">head</span>(fbsw<span class="sc">$</span>pop,<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    year   sex agegrp   rks
   &lt;int&gt; &lt;int&gt; &lt;fctr&gt; &lt;int&gt;
1:  2021     1   0 Â≤Å  3850
2:  2021     1 1-4 Â≤Å 14405</code></pre>
</div>
</div>
</section>
<section id="summary-the-canreg-data" class="slide level2 smaller">
<h2>Summary the canreg data</h2>
<blockquote>
<p>summary function could quickly calculate summary data of ‚Äòcanreg‚Äô object.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a></a>summ <span class="ot">&lt;-</span> <span class="fu">summary</span>(data)</span>
<span id="cb31-2"><a></a><span class="fu">class</span>(summ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "summary" "list"   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a></a><span class="fu">names</span>(summ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "areacode"         "fbs"              "inci"             "sws"             
 [5] "mort"             "mi"               "rks"              "rks_year"        
 [9] "inci_vars"        "miss_r_vars_inci" "mort_vars"        "miss_r_vars_mort"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a></a>purrr<span class="sc">::</span><span class="fu">pluck</span>(summ, <span class="st">"mi"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3805414</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a></a>purrr<span class="sc">::</span><span class="fu">pluck</span>(summ, <span class="st">"inci"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 373.15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a></a>purrr<span class="sc">::</span><span class="fu">pluck</span>(summ, <span class="st">"mort"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 142</code></pre>
</div>
</div>
</section>
<section id="calculating-age-standardized-rate" class="slide level2 smaller">
<h2>Calculating age standardized rate</h2>
<blockquote>
<p>create_asr function could calculate age standardized rate, truncated rate, and cumulated rate based on provided standard population, it could also estimate the variance and 95% confidence interval of the rate.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a></a><span class="co"># list all available standard population</span></span>
<span id="cb41-2"><a></a><span class="fu">ls_std_vars</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "cn64"    "cn82"    "cn2000"  "wld85"   "wld2000"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a></a><span class="co"># calculate asr using the create_asr() function</span></span>
<span id="cb43-2"><a></a><span class="fu">create_asr</span>(fbsw, <span class="at">event =</span> fbs, year, sex, cancer, <span class="at">std =</span> <span class="fu">c</span>(<span class="st">"cn2000"</span>, <span class="st">"wld85"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 58 √ó 11
    year   sex cancer no_cases     cr asr_cn2000 asr_wld85 truncr_cn2000
   &lt;int&gt; &lt;int&gt;  &lt;int&gt;    &lt;int&gt;  &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
 1  2021     1      0       18   5.50       4.56      4.06          6.91
 2  2021     1     60     1087 332.       275.      273.          430.  
 3  2021     1     61     1068 326.       270.      269.          424.  
 4  2021     1    101       18   5.50       4.65      4.91         10.4 
 5  2021     1    102        5   1.53       1.23      1.45          2.63
 6  2021     1    103       47  14.4       10.8      10.3          11.2 
 7  2021     1    104       65  19.9       15.6      16.1          21.9 
 8  2021     1    105       87  26.6       21.2      21.7          33.8 
 9  2021     1    106       84  25.7       20.9      21.7          38.0 
10  2021     1    107       21   6.41       5.19      5.57          9.84
# ‚Ñπ 48 more rows
# ‚Ñπ 3 more variables: truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;, prop &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="calculating-age-standardized-rate-1" class="slide level2 smaller">
<h2>Calculating age standardized rate</h2>
<blockquote>
<p>The drop_total, drop_others, and add_labels functions can perform further processing on the ASR data, such as removing other cancers, removing total cancer, and adding labels.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a></a><span class="fu">create_asr</span>(fbsw, <span class="at">event =</span> fbs, year, sex, cancer) <span class="sc">|&gt;</span> </span>
<span id="cb45-2"><a></a>  <span class="fu">drop_total</span>() <span class="sc">|&gt;</span> <span class="fu">drop_others</span>() <span class="sc">|&gt;</span> </span>
<span id="cb45-3"><a></a>  <span class="fu">add_labels</span>(<span class="at">lang =</span> <span class="st">"en"</span>, <span class="at">label_type =</span> <span class="st">"abbr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 48 √ó 13
    year sex   cancer site             icd10 no_cases    cr asr_cn2000 asr_wld85
   &lt;int&gt; &lt;fct&gt;  &lt;int&gt; &lt;fct&gt;            &lt;fct&gt;    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
 1  2021 Male     101 Oral Cavity &amp; P‚Ä¶ C00-‚Ä¶       18  5.50       4.65      4.91
 2  2021 Male     102 Nasopharynx      C11          5  1.53       1.23      1.45
 3  2021 Male     103 Esophagus        C15         47 14.4       10.8      10.3 
 4  2021 Male     104 Stomach          C16         65 19.9       15.6      16.1 
 5  2021 Male     105 Colorectum       C18-‚Ä¶       87 26.6       21.2      21.7 
 6  2021 Male     106 Liver            C22         84 25.7       20.9      21.7 
 7  2021 Male     107 Gallbladder      C23-‚Ä¶       21  6.41       5.19      5.57
 8  2021 Male     108 Pancreas         C25         28  8.55       6.81      7.14
 9  2021 Male     109 Larynx           C32         15  4.58       3.70      3.97
10  2021 Male     110 Lung             C33-‚Ä¶      230 70.2       57.6      59.3 
# ‚Ñπ 38 more rows
# ‚Ñπ 4 more variables: truncr_cn2000 &lt;dbl&gt;, truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;,
#   prop &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="calculating-quality-indicators" class="slide level2 smaller">
<h2>Calculating quality indicators</h2>
<blockquote>
<p>create_quality function can calculate quality indicators including number of cancer cases, crude incidence, mortality, mortality:incidence ratio, proportion of morphology diagnosed cases, dco, UB%, etc based on ‚Äòcanreg‚Äô or ‚Äòfbswicd‚Äô data.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a></a><span class="co"># calculate quality indicators based on 'canreg' data</span></span>
<span id="cb47-2"><a></a><span class="fu">create_quality</span>(data, year, sex, cancer) <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span>cancer <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb47-3"><a></a>  <span class="fu">add_labels</span>(<span class="at">lang =</span> <span class="st">"en"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 56 √ó 16
    year sex   cancer site    icd10    rks   fbs    fbl   sws    swl    mi    mv
   &lt;int&gt; &lt;fct&gt;  &lt;int&gt; &lt;fct&gt;   &lt;fct&gt;  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt; &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  2021 Male      60 All Ca‚Ä¶ ALL   327403  1087 332.     560 171.    0.52  76.5
 2  2021 Male      61 All Ca‚Ä¶ ALLb‚Ä¶ 327403  1068 326.     554 169.    0.52  76.3
 3  2021 Male     101 Oral C‚Ä¶ C00-‚Ä¶ 327403    18   5.5     10   3.05  0.56  55.6
 4  2021 Male     102 Nasoph‚Ä¶ C11   327403     5   1.53     4   1.22  0.8   40  
 5  2021 Male     103 Esopha‚Ä¶ C15   327403    47  14.4     35  10.7   0.74  87.2
 6  2021 Male     104 Stomach C16   327403    65  19.8     55  16.8   0.85  73.8
 7  2021 Male     105 Conlon‚Ä¶ C18-‚Ä¶ 327403    87  26.6     55  16.8   0.63  77.0
 8  2021 Male     106 Liver   C22   327403    84  25.7     77  23.5   0.92  66.7
 9  2021 Male     107 Gallbl‚Ä¶ C23-‚Ä¶ 327403    21   6.41    16   4.89  0.76  85.7
10  2021 Male     108 Pancre‚Ä¶ C25   327403    28   8.55    28   8.55  1     50  
# ‚Ñπ 46 more rows
# ‚Ñπ 4 more variables: dco &lt;dbl&gt;, ub &lt;dbl&gt;, sub &lt;dbl&gt;, m8000 &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="calculating-quality-indicators-1" class="slide level2 smaller">
<h2>Calculating quality indicators</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a></a><span class="co"># calculate quality indicators based on 'fbswicd' data</span></span>
<span id="cb49-2"><a></a><span class="fu">create_quality</span>(fbsw, year, sex) <span class="sc">|&gt;</span></span>
<span id="cb49-3"><a></a>  <span class="fu">add_labels</span>(<span class="at">lang =</span> <span class="st">"en"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 √ó 16
   year sex    cancer site      icd10    rks   fbs   fbl   sws   swl    mi    mv
  &lt;int&gt; &lt;fct&gt;   &lt;dbl&gt; &lt;fct&gt;     &lt;fct&gt;  &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  2021 Male       60 All Canc‚Ä¶ ALL   327403  1087  332.   560  171.  0.52  76.5
2  2021 Female     60 All Canc‚Ä¶ ALL   355707  1462  411.   410  115.  0.28  84.1
# ‚Ñπ 4 more variables: dco &lt;dbl&gt;, ub &lt;dbl&gt;, sub &lt;dbl&gt;, m8000 &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a></a><span class="fu">create_quality</span>(fbsw, cancer) <span class="sc">|&gt;</span></span>
<span id="cb51-2"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span>cancer <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb51-3"><a></a>  <span class="fu">add_labels</span>(<span class="at">lang =</span> <span class="st">"en"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 28 √ó 16
    year sex   cancer site    icd10    rks   fbs    fbl   sws    swl    mi    mv
   &lt;dbl&gt; &lt;fct&gt;  &lt;int&gt; &lt;fct&gt;   &lt;fct&gt;  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt; &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  9000 Total     60 All Ca‚Ä¶ ALL   683110  2549 373.     970 142     0.38  80.9
 2  9000 Total     61 All Ca‚Ä¶ ALLb‚Ä¶ 683110  2516 368.     956 140.    0.38  80.8
 3  9000 Total    101 Oral C‚Ä¶ C00-‚Ä¶ 683110    26   3.81    13   1.9   0.5   57.7
 4  9000 Total    102 Nasoph‚Ä¶ C11   683110     7   1.02     5   0.73  0.71  57.1
 5  9000 Total    103 Esopha‚Ä¶ C15   683110    66   9.66    46   6.73  0.7   86.4
 6  9000 Total    104 Stomach C16   683110   101  14.8     79  11.6   0.78  71.3
 7  9000 Total    105 Conlon‚Ä¶ C18-‚Ä¶ 683110   181  26.5    103  15.1   0.57  81.2
 8  9000 Total    106 Liver   C22   683110   125  18.3    100  14.6   0.8   68  
 9  9000 Total    107 Gallbl‚Ä¶ C23-‚Ä¶ 683110    44   6.44    31   4.54  0.7   86.4
10  9000 Total    108 Pancre‚Ä¶ C25   683110    46   6.73    57   8.34  1.24  43.5
# ‚Ñπ 18 more rows
# ‚Ñπ 4 more variables: dco &lt;dbl&gt;, ub &lt;dbl&gt;, sub &lt;dbl&gt;, m8000 &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="calculating-age-specific-rate" class="slide level2 smaller">
<h2>Calculating age specific rate</h2>
<blockquote>
<p>create_age_rate function could calculate age specific rate based on ‚Äòcanreg‚Äô or ‚Äòfbswicd‚Äô data.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a></a><span class="co"># calculate age specific rate from 'canreg' data.</span></span>
<span id="cb53-2"><a></a><span class="fu">create_age_rate</span>(data, year, sex, cancer, <span class="at">format =</span> <span class="st">"long"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb53-3"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span>cancer <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb53-4"><a></a>  <span class="fu">arrange</span>(year, sex, cancer, agegrp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,064 √ó 6
    year   sex cancer agegrp   cases  rate
   &lt;int&gt; &lt;int&gt;  &lt;int&gt; &lt;fct&gt;    &lt;int&gt; &lt;dbl&gt;
 1  2021     1     60 0 Â≤Å         3  77.9
 2  2021     1     60 1-4 Â≤Å       3  20.8
 3  2021     1     60 10-14 Â≤Å     0   0  
 4  2021     1     60 15-19 Â≤Å     2  10.7
 5  2021     1     60 20-24 Â≤Å     5  18.0
 6  2021     1     60 25-29 Â≤Å    14  38.7
 7  2021     1     60 30-34 Â≤Å    39 133. 
 8  2021     1     60 35-39 Â≤Å    38 127. 
 9  2021     1     60 40-44 Â≤Å    60 196. 
10  2021     1     60 45-49 Â≤Å    64 240. 
# ‚Ñπ 1,054 more rows</code></pre>
</div>
</div>
</section>
<section id="calculating-age-specific-rate-1" class="slide level2 smaller">
<h2>Calculating age specific rate</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a></a><span class="co"># calculate age specific rate from 'fbswicd' data.</span></span>
<span id="cb55-2"><a></a><span class="fu">create_age_rate</span>(fbsw, year, sex, cancer, <span class="at">format =</span> <span class="st">"wide"</span>) <span class="sc">|&gt;</span></span>
<span id="cb55-3"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span>cancer <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb55-4"><a></a>  <span class="fu">add_labels</span>(<span class="at">lang =</span> <span class="st">"en"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 56 √ó 45
    year sex   cancer site       icd10    f0    f1    f2    f3    f4    f5    f6
   &lt;int&gt; &lt;fct&gt;  &lt;int&gt; &lt;fct&gt;      &lt;fct&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1  2021 Male      60 All Cance‚Ä¶ ALL    1087     3     3     0     2     5    14
 2  2021 Male      61 All Cance‚Ä¶ ALLb‚Ä¶  1068     3     3     0     2     5    14
 3  2021 Male     101 Oral Cavi‚Ä¶ C00-‚Ä¶    18     0     0     0     0     0     0
 4  2021 Male     102 Nasophary‚Ä¶ C11       5     0     0     0     0     0     0
 5  2021 Male     103 Esophagus  C15      47     0     0     0     0     0     0
 6  2021 Male     104 Stomach    C16      65     0     0     0     0     0     0
 7  2021 Male     105 Conlon, R‚Ä¶ C18-‚Ä¶    87     0     0     0     0     0     1
 8  2021 Male     106 Liver      C22      84     0     1     0     0     0     0
 9  2021 Male     107 Gallbladd‚Ä¶ C23-‚Ä¶    21     0     0     0     0     0     0
10  2021 Male     108 Pancreas   C25      28     0     0     0     0     0     0
# ‚Ñπ 46 more rows
# ‚Ñπ 33 more variables: f7 &lt;int&gt;, f8 &lt;int&gt;, f9 &lt;int&gt;, f10 &lt;int&gt;, f11 &lt;int&gt;,
#   f12 &lt;int&gt;, f13 &lt;int&gt;, f14 &lt;int&gt;, f15 &lt;int&gt;, f16 &lt;int&gt;, f17 &lt;int&gt;,
#   f18 &lt;int&gt;, f19 &lt;int&gt;, r0 &lt;dbl&gt;, r1 &lt;dbl&gt;, r2 &lt;dbl&gt;, r3 &lt;dbl&gt;, r4 &lt;dbl&gt;,
#   r5 &lt;dbl&gt;, r6 &lt;dbl&gt;, r7 &lt;dbl&gt;, r8 &lt;dbl&gt;, r9 &lt;dbl&gt;, r10 &lt;dbl&gt;, r11 &lt;dbl&gt;,
#   r12 &lt;dbl&gt;, r13 &lt;dbl&gt;, r14 &lt;dbl&gt;, r15 &lt;dbl&gt;, r16 &lt;dbl&gt;, r17 &lt;dbl&gt;,
#   r18 &lt;dbl&gt;, r19 &lt;dbl&gt;</code></pre>
</div>
</div>
</section></section>
<section>
<section id="batch-mode-deal-with-data-from-multiple-cancer-registries" class="title-slide slide level1 agenda-slide center">
<h1>Batch mode (deal with data from multiple cancer registries)</h1>
<div class="agenda-heading">
<p>Contents</p>
</div>
<div class="agenda">
<ol>
<li><div class="agenda-inactive agenda-pre-active">
<p>Single cancer registry</p>
</div></li>
<li><div class="agenda-active">
<p>Batch mode (deal with data from multiple cancer registries)</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Reframe fbsws</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Visualization</p>
</div></li>
</ol>
</div>
</section>
<section id="reading-data-from-multiple-raw-data-files" class="slide level2">
<h2>Reading data from multiple raw data files</h2>
<blockquote>
<p>Object with class of ‚Äòcanregs‚Äô is a list with elements of object with class of ‚Äòcanreg‚Äô, it could be read using the ‚Äòread_canreg‚Äô function.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a></a>files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">"~/website/slides/outputs"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb57-2"><a></a><span class="co"># read the first 10 raw files in outputs folder into 'canregs'</span></span>
<span id="cb57-3"><a></a>data <span class="ot">&lt;-</span> <span class="fu">read_canreg</span>(files[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span>
<span id="cb57-4"><a></a><span class="fu">class</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "canregs" "list"   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a></a><span class="fu">names</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "410102" "410103" "410104" "410105" "410123" "410185" "410224" "410302"
 [9] "410303" "410304"</code></pre>
</div>
</div>
</section>
<section id="summary-the-canregs-data" class="slide level2 smaller">
<h2>Summary the canregs data</h2>
<blockquote>
<p>summary function could quickly calculate summary data of ‚Äòcanreg‚Äô or ‚Äòcanregs‚Äô object.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a></a>summ <span class="ot">&lt;-</span> <span class="fu">summary</span>(data)</span>
<span id="cb61-2"><a></a><span class="fu">names</span>(summ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "410102" "410103" "410104" "410105" "410123" "410185" "410224" "410302"
 [9] "410303" "410304"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a></a>summ1 <span class="ot">&lt;-</span> <span class="fu">cr_select</span>(summ, inci <span class="sc">&gt;</span> <span class="dv">300</span>, mi <span class="sc">&gt;</span> <span class="fl">0.4</span>)</span>
<span id="cb63-2"><a></a><span class="fu">names</span>(summ1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "410302" "410303" "410304"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a></a>summ2 <span class="ot">&lt;-</span> <span class="fu">cr_select</span>(summ, inci <span class="sc">&gt;</span> <span class="dv">290</span> <span class="sc">|</span> mort <span class="sc">&gt;</span> <span class="dv">150</span>)</span>
<span id="cb65-2"><a></a><span class="fu">names</span>(summ2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "410102" "410103" "410104" "410105" "410302" "410303" "410304"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a></a>summ3 <span class="ot">&lt;-</span> <span class="fu">cr_select</span>(summ, <span class="at">index =</span> <span class="fu">c</span>(<span class="st">"410102"</span>, <span class="st">"410303"</span>))</span>
<span id="cb67-2"><a></a><span class="fu">names</span>(summ3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "410102" "410303"</code></pre>
</div>
</div>
</section>
<section id="filter-the-canregs-data" class="slide level2">
<h2>Filter the canregs data</h2>
<blockquote>
<p>cr_select function can filter ‚Äòcarengs‚Äô, ‚Äòfbswicds‚Äô, ‚Äòasrs‚Äô, and, ‚Äòsummaries‚Äô based on input conditions.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a></a>data2 <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> <span class="fu">cr_select</span>(<span class="at">index =</span> <span class="fu">names</span>(summ2))</span>
<span id="cb69-2"><a></a><span class="fu">names</span>(data2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "410102" "410103" "410104" "410105" "410302" "410303" "410304"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a></a><span class="fu">names</span>(summ2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "410102" "410103" "410104" "410105" "410302" "410303" "410304"</code></pre>
</div>
</div>
</section>
<section id="counting-canregs-data" class="slide level2 smaller">
<h2>Counting ‚Äòcanregs‚Äô data</h2>
<blockquote>
<p>count_canreg function can count ‚Äòcanregs‚Äô data into ‚Äòfbswicds‚Äô data, which is a list of elements of ‚Äòfbswicd‚Äô data that could used as input data for create_asr, create_quality, create_sheet, etc.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a></a>fbsw <span class="ot">&lt;-</span> <span class="fu">count_canreg</span>(data2)</span>
<span id="cb73-2"><a></a><span class="fu">class</span>(fbsw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "fbswicds" "list"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a></a><span class="fu">names</span>(fbsw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "410102" "410103" "410104" "410105" "410302" "410303" "410304"</code></pre>
</div>
</div>
</section>
<section id="calculate-age-standardized-rate" class="slide level2">
<h2>Calculate age standardized rate</h2>
<blockquote>
<p>create_asr function can also calculate age standard rate based on ‚Äòfbswicds‚Äô data.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a></a>asrs <span class="ot">&lt;-</span> <span class="fu">create_asr</span>(fbsw, <span class="at">event =</span> fbs, year, sex)</span>
<span id="cb77-2"><a></a><span class="fu">class</span>(asrs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "asrs" "list"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a></a><span class="fu">head</span>(asrs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`410102`
# A tibble: 2 √ó 11
   year   sex cancer no_cases    cr asr_cn2000 asr_wld85 truncr_cn2000
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
1  2021     1     60     1087  332.       275.      273.          430.
2  2021     2     60     1462  411.       335.      315.          546.
# ‚Ñπ 3 more variables: truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;, prop &lt;dbl&gt;

$`410103`
# A tibble: 2 √ó 11
   year   sex cancer no_cases    cr asr_cn2000 asr_wld85 truncr_cn2000
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
1  2021     1     60     1236  376.       256.      248.          380.
2  2021     2     60     1564  436.       319.      297.          526.
# ‚Ñπ 3 more variables: truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;, prop &lt;dbl&gt;

$`410104`
# A tibble: 2 √ó 11
   year   sex cancer no_cases    cr asr_cn2000 asr_wld85 truncr_cn2000
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
1  2021     1     60      743  327.       254.      249.          385.
2  2021     2     60      912  360.       299.      280.          490.
# ‚Ñπ 3 more variables: truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;, prop &lt;dbl&gt;

$`410105`
# A tibble: 2 √ó 11
   year   sex cancer no_cases    cr asr_cn2000 asr_wld85 truncr_cn2000
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
1  2021     1     60     1877  406.       300.      286.          415.
2  2021     2     60     2506  495.       380.      350.          604.
# ‚Ñπ 3 more variables: truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;, prop &lt;dbl&gt;

$`410302`
# A tibble: 2 √ó 11
   year   sex cancer no_cases    cr asr_cn2000 asr_wld85 truncr_cn2000
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
1  2021     1     60      298  359.       235.      231.          342.
2  2021     2     60      278  322.       199.      190.          331.
# ‚Ñπ 3 more variables: truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;, prop &lt;dbl&gt;

$`410303`
# A tibble: 2 √ó 11
   year   sex cancer no_cases    cr asr_cn2000 asr_wld85 truncr_cn2000
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;         &lt;dbl&gt;
1  2021     1     60      625  383.       280.      311.          275.
2  2021     2     60      599  370.       235.      226.          335.
# ‚Ñπ 3 more variables: truncr_wld85 &lt;dbl&gt;, cumur &lt;dbl&gt;, prop &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="merge-age-standardized-rateasrs" class="slide level2">
<h2>Merge age standardized rate(asrs)</h2>
<blockquote>
<p>cr_merge function cancer merge ‚Äòcarengs‚Äô, ‚Äòfbswicds‚Äô, ‚Äòasrs‚Äô, ‚Äòqualities‚Äô into ‚Äòcanreg‚Äô, ‚Äòfbswicd‚Äô, ‚Äòasr‚Äô, and ‚Äòquality‚Äô data.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a></a>asrs2 <span class="ot">&lt;-</span> asrs <span class="sc">|&gt;</span> <span class="fu">cr_merge</span>()</span>
<span id="cb81-2"><a></a><span class="fu">head</span>(asrs2, <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">8</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 8
  areacode  year   sex cancer no_cases    cr asr_cn2000 asr_wld85
     &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1   410102  2021     1     60     1087  332.       275.      273.
2   410102  2021     2     60     1462  411.       335.      315.
3   410103  2021     1     60     1236  376.       256.      248.
4   410103  2021     2     60     1564  436.       319.      297.
5   410104  2021     1     60      743  327.       254.      249.
6   410104  2021     2     60      912  360.       299.      280.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a></a><span class="fu">names</span>(asrs2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "areacode"      "year"          "sex"           "cancer"       
 [5] "no_cases"      "cr"            "asr_cn2000"    "asr_wld85"    
 [9] "truncr_cn2000" "truncr_wld85"  "cumur"         "prop"         </code></pre>
</div>
</div>
</section>
<section id="creating-quality-indicators" class="slide level2">
<h2>Creating quality indicators</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a></a>qualities <span class="ot">&lt;-</span> <span class="fu">create_quality</span>(fbsw, year, sex, <span class="at">collapse=</span>F)</span>
<span id="cb85-2"><a></a>qualities</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`410102`
# A tibble: 2 √ó 14
   year   sex cancer    rks   fbs   fbl   sws   swl    mi    mv   dco    ub
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;  &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  2021     1     60 327403  1087  332.   560  171.  0.52  76.5  1.47  1.75
2  2021     2     60 355707  1462  411.   410  115.  0.28  84.1  0.82  1.92
# ‚Ñπ 2 more variables: sub &lt;dbl&gt;, m8000 &lt;dbl&gt;

$`410103`
# A tibble: 2 √ó 14
   year   sex cancer    rks   fbs   fbl   sws   swl    mi    mv   dco    ub
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;  &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  2021     1     60 328415  1236  376.   676  206.  0.55  73.1  0.65  2.1 
2  2021     2     60 358941  1564  436.   410  114.  0.26  76.6  1.02  1.98
# ‚Ñπ 2 more variables: sub &lt;dbl&gt;, m8000 &lt;dbl&gt;

$`410104`
# A tibble: 2 √ó 14
   year   sex cancer    rks   fbs   fbl   sws   swl    mi    mv   dco    ub
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;  &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  2021     1     60 227511   743  327.   371 163.   0.5   81.4  0.54  1.75
2  2021     2     60 253077   912  360.   252  99.6  0.28  81.5  0.33  1.21
# ‚Ñπ 2 more variables: sub &lt;dbl&gt;, m8000 &lt;dbl&gt;

$`410105`
# A tibble: 2 √ó 14
   year   sex cancer    rks   fbs   fbl   sws   swl    mi    mv   dco    ub
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;  &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  2021     1     60 462738  1877  406.   793  171.  0.42  76.9  0.69  1.55
2  2021     2     60 506456  2506  495.   555  110.  0.22  79.6  0.2   1.52
# ‚Ñπ 2 more variables: sub &lt;dbl&gt;, m8000 &lt;dbl&gt;

$`410302`
# A tibble: 2 √ó 14
   year   sex cancer   rks   fbs   fbl   sws   swl    mi    mv   dco    ub   sub
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  2021     1     60 83010   298  359.   157  189.  0.53  69.8  0     1.01  63.8
2  2021     2     60 86359   278  322.   105  122.  0.38  74.1  0.72  0.72  70.5
# ‚Ñπ 1 more variable: m8000 &lt;dbl&gt;

$`410303`
# A tibble: 2 √ó 14
   year   sex cancer    rks   fbs   fbl   sws   swl    mi    mv   dco    ub
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;  &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  2021     1     60 163005   625  383.   412  253.  0.66  76.8  1.12  0.96
2  2021     2     60 161724   599  370.   252  156.  0.42  84.5  1.5   2.5 
# ‚Ñπ 2 more variables: sub &lt;dbl&gt;, m8000 &lt;dbl&gt;

$`410304`
# A tibble: 2 √ó 14
   year   sex cancer    rks   fbs   fbl   sws   swl    mi    mv   dco    ub
  &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;  &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  2021     1     60  99735   441  442.   242  243.  0.55  72.3  2.72  2.72
2  2021     2     60 100963   359  356.   152  151.  0.42  79.4  2.51  1.11
# ‚Ñπ 2 more variables: sub &lt;dbl&gt;, m8000 &lt;dbl&gt;

attr(,"class")
[1] "qualities" "list"     </code></pre>
</div>
</div>
</section>
<section id="merge-quality-indicators" class="slide level2">
<h2>Merge quality indicators</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a></a>qualities2 <span class="ot">&lt;-</span> qualities <span class="sc">|&gt;</span> <span class="fu">cr_merge</span>()</span>
<span id="cb87-2"><a></a><span class="fu">head</span>(qualities2,<span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">12</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 12
  areacode  year   sex cancer    rks   fbs   fbl   sws   swl    mi    mv   dco
     &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;  &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1   410102  2021     1     60 327403  1087  332.   560 171.   0.52  76.5  1.47
2   410102  2021     2     60 355707  1462  411.   410 115.   0.28  84.1  0.82
3   410103  2021     1     60 328415  1236  376.   676 206.   0.55  73.1  0.65
4   410103  2021     2     60 358941  1564  436.   410 114.   0.26  76.6  1.02
5   410104  2021     1     60 227511   743  327.   371 163.   0.5   81.4  0.54
6   410104  2021     2     60 253077   912  360.   252  99.6  0.28  81.5  0.33</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a></a><span class="fu">names</span>(qualities2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "areacode" "year"     "sex"      "cancer"   "rks"      "fbs"     
 [7] "fbl"      "sws"      "swl"      "mi"       "mv"       "dco"     
[13] "ub"       "sub"      "m8000"   </code></pre>
</div>
</div>
</section></section>
<section>
<section id="reframe-fbsws" class="title-slide slide level1 agenda-slide center">
<h1>Reframe fbsws</h1>
<div class="agenda-heading">
<p>Contents</p>
</div>
<div class="agenda">
<ol>
<li><div class="agenda-inactive agenda-pre-active">
<p>Single cancer registry</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Batch mode (deal with data from multiple cancer registries)</p>
</div></li>
<li><div class="agenda-active">
<p>Reframe fbsws</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>Visualization</p>
</div></li>
</ol>
</div>
</section>
<section id="show-attributes-of-cancer-registry-affiliated-with-areacode" class="slide level2">
<h2>show attributes of cancer registry affiliated with areacode</h2>
<blockquote>
<p>tidy_areacode function show attributes of cancer registry affiliated with areacode.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a></a>attributes <span class="ot">&lt;-</span> <span class="fu">tidy_areacode</span>(<span class="st">"410302"</span>)</span>
<span id="cb91-2"><a></a><span class="fu">names</span>(attributes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "areacode"  "registry"  "province"  "city"      "area_type" "region"   </code></pre>
</div>
</div>
<blockquote>
<p>You cancer use <strong>write_registry</strong>, or <strong>write_area_type</strong> function to modify the attributes of the registry.</p>
</blockquote>
</section>
<section id="reframe-fbswicds-to-fbswicd" class="slide level2">
<h2>Reframe ‚Äòfbswicds‚Äô to ‚Äòfbswicd‚Äô</h2>
<blockquote>
<p>You can reframe the ‚Äòfbswicds‚Äô according to the attribute name of registry like ‚Äòarea_type‚Äô, ‚Äòregistry‚Äô, ‚Äòprovince‚Äô, etc.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a></a>data <span class="ot">&lt;-</span> <span class="fu">read_canreg</span>(files[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span>
<span id="cb93-2"><a></a>fbsws <span class="ot">&lt;-</span> <span class="fu">count_canreg</span>(data)</span>
<span id="cb93-3"><a></a><span class="fu">class</span>(fbsws)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "fbswicds" "list"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a></a><span class="fu">names</span>(fbsws)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "410102" "410103" "410104" "410105" "410123" "410185" "410224" "410302"
 [9] "410303" "410304"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a></a>fbsw <span class="ot">&lt;-</span> <span class="fu">reframe_fbswicd</span>(fbsws, area_type)</span>
<span id="cb97-2"><a></a><span class="fu">class</span>(fbsw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "fbswicd" "list"   </code></pre>
</div>
</div>
</section>
<section id="ceating-asr-based-on-reframed-fbsws" class="slide level2">
<h2>Ceating asr based on reframed fbsws</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a></a>asr <span class="ot">&lt;-</span> <span class="fu">create_asr</span>(fbsw, area_type, sex)</span>
<span id="cb99-2"><a></a><span class="fu">head</span>(asr, <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">8</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 8
   year   sex cancer area_type no_cases    cr asr_cn2000 asr_wld85
  &lt;dbl&gt; &lt;int&gt;  &lt;dbl&gt; &lt;fct&gt;        &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1  9000     1     60 ÂüéÂ∏Ç          6307  373.       264.      257.
2  9000     2     60 ÂüéÂ∏Ç          7680  421.       312.      290.
3  9000     1     60 ÂÜúÊùë          2704  235.       176.      171.
4  9000     2     60 ÂÜúÊùë          2936  265.       200.      187.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a></a><span class="fu">names</span>(asr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "year"          "sex"           "cancer"        "area_type"    
 [5] "no_cases"      "cr"            "asr_cn2000"    "asr_wld85"    
 [9] "truncr_cn2000" "truncr_wld85"  "cumur"         "prop"         </code></pre>
</div>
</div>
</section></section>
<section>
<section id="visualization" class="title-slide slide level1 agenda-slide center">
<h1>Visualization</h1>
<div class="agenda-heading">
<p>Contents</p>
</div>
<div class="agenda">
<ol>
<li><div class="agenda-inactive agenda-pre-active">
<p>Single cancer registry</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Batch mode (deal with data from multiple cancer registries)</p>
</div></li>
<li><div class="agenda-inactive agenda-pre-active">
<p>Reframe fbsws</p>
</div></li>
<li><div class="agenda-active">
<p>Visualization</p>
</div></li>
</ol>
</div>
</section>
<section id="draw-pyramid-plot" class="slide level2">
<h2>Draw pyramid plot</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a></a><span class="fu">library</span>(showtext)</span>
<span id="cb103-2"><a></a><span class="fu">showtext_auto</span>()</span>
<span id="cb103-3"><a></a>data <span class="ot">&lt;-</span> <span class="fu">read_canreg</span>(files[<span class="dv">10</span>])</span>
<span id="cb103-4"><a></a>fbsw <span class="ot">&lt;-</span> <span class="fu">count_canreg</span>(data)</span>
<span id="cb103-5"><a></a><span class="fu">draw_pyramid</span>(fbsw, <span class="at">show_value =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-24-1.png" width="960" class="r-stretch"></section>
<section id="draw-bar-chart" class="slide level2 smaller">
<h2>Draw bar chart</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a></a>asr <span class="ot">&lt;-</span> <span class="fu">create_asr</span>(fbsw,year,sex,cancer) <span class="sc">|&gt;</span> <span class="fu">drop_total</span>() <span class="sc">|&gt;</span></span>
<span id="cb104-2"><a></a>  <span class="fu">drop_others</span>() <span class="sc">|&gt;</span> <span class="fu">add_labels</span>(<span class="at">label_type =</span> <span class="st">"abbr"</span>, <span class="at">lang =</span> <span class="st">"en"</span>)</span>
<span id="cb104-3"><a></a><span class="fu">draw_barchart</span>(asr, <span class="at">plot_var =</span>cr, <span class="at">cate_var =</span> site,</span>
<span id="cb104-4"><a></a>              <span class="at">side_label =</span> <span class="fu">c</span>(<span class="st">"Male"</span>,<span class="st">"Female"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-25-1.png" width="960" class="r-stretch"></section>
<section id="draw-bar-chart-1" class="slide level2 smaller">
<h2>Draw bar chart</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a></a><span class="fu">library</span>(dplyr)</span>
<span id="cb105-2"><a></a>asr1 <span class="ot">&lt;-</span> <span class="fu">create_asr</span>(fbsw,year,sex,cancer,<span class="at">event =</span> fbs) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">type=</span><span class="st">"incidence"</span>)</span>
<span id="cb105-3"><a></a>asr2 <span class="ot">&lt;-</span> <span class="fu">create_asr</span>(fbsw,year,sex,cancer,<span class="at">event =</span> sws) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">type=</span><span class="st">"mortality"</span>)</span>
<span id="cb105-4"><a></a>asr <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(asr1, asr2) <span class="sc">|&gt;</span> <span class="fu">drop_others</span>() <span class="sc">|&gt;</span> <span class="fu">drop_total</span>() <span class="sc">|&gt;</span> </span>
<span id="cb105-5"><a></a>  <span class="fu">add_labels</span>(<span class="at">label_type =</span> <span class="st">"abbr"</span>,<span class="at">lang =</span> <span class="st">"en"</span>)</span>
<span id="cb105-6"><a></a><span class="fu">draw_barchart</span>(asr, <span class="at">plot_var =</span>cr, <span class="at">cate_var =</span> site,<span class="at">group_var =</span> type,</span>
<span id="cb105-7"><a></a>              <span class="at">side_label =</span> <span class="fu">c</span>(<span class="st">"Male"</span>,<span class="st">"Female"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-26-1.png" width="960" class="r-stretch"></section>
<section id="draw-line-chart" class="slide level2 smaller">
<h2>Draw line chart</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a></a>agerate <span class="ot">&lt;-</span> <span class="fu">create_age_rate</span>(fbsw,sex) <span class="sc">|&gt;</span> <span class="fu">add_labels</span>(<span class="at">lang=</span><span class="st">"en"</span>)</span>
<span id="cb106-2"><a></a><span class="fu">names</span>(agerate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "year"   "sex"    "cancer" "site"   "icd10"  "agegrp" "cases"  "rate"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a></a><span class="fu">draw_line</span>(agerate, agegrp, rate, sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display column-page-right">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-27-1.png" width="960"></p>
</figure>
</div>
</div>
</div>

<div class="quarto-auto-generated-content">
<div class="footer footer-default">
<p>https://slides.chenq.site</p>
</div>
</div>
<div class="reveal-header">
<div class="header-logo">
<img data-src="">
</div>
<div class="sc-title">
<p> </p>
</div>
<div class="header-text">
<p> </p>
</div>
<div class="sb-title">
<p> </p>
</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-attribution/attribution.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealAttribution, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("http:\/\/chenq\.site:999");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>